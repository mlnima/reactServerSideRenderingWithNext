{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{\"+wRh\":function(e,t,n){\"use strict\";var a=n(\"rePB\"),r=n(\"q1tI\"),o=n.n(r),s=n(\"8Kt/\"),i=n.n(s),c=(n(\"00et\"),n(\"A8lN\")),l=n(\"0Bsm\"),u=n.n(l),m=n(\"yNYL\"),d=n.n(m),f=o.a.createElement,b=function(e){return e.active?f(\"div\",{className:\"AdminActionMenu\"},f(\"button\",{className:\"AdminActionMenuItem\"},\" My Profile\"),f(\"button\",{className:\"AdminActionMenuItem\"},\" Edit My Profile\"),f(\"button\",{className:\"AdminActionMenuItem\"},\" Log Out\")):null},p=n(\"YFqc\"),O=n.n(p),h=o.a.createElement,v=function(e){var t=Object(r.useState)({});t[0],t[1];return Object(r.useEffect)((function(){}),[]),e.active?h(\"div\",{className:\"NewItemMenu\"},h(O.a,{href:\"/admin/post?new=1\"},h(\"a\",{className:\"SideBarItem\"},\"New Post\"))):null},g=o.a.createElement;function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=u()((function(e){var t=Object(r.useContext)(c.a),n=Object(r.useState)({AdminActionMenu:!1,NewItemMenu:!1}),a=n[0],s=n[1];return g(o.a.Fragment,null,g(\"div\",{className:\"adminTopBar\"},g(\"div\",{className:\"adminTopBarControl\"},g(\"button\",{className:\"adminSideBarMobileBtn adminTopBarItem\",onClick:function(){t.settings.adminPanelSideBar?t.dispatchSettings((function(e){return j({},e,{adminPanelSideBar:!1})})):t.dispatchSettings((function(e){return j({},e,{adminPanelSideBar:!0})}))}},g(d.a,{className:\"fontawesomeMedium\",name:\"bars\"})),g(\"button\",{className:\"adminGoToHomePageBtn adminTopBarItem\",onClick:function(){return e.router.push(\"/\"),void console.log(e.router)}},g(d.a,{className:\"fontawesomeMedium\",name:\"home\"})),g(\"button\",{className:\"adminNewActionBtn adminTopBarItem\",onClick:function(){a.NewItemMenu?s(j({},a,{NewItemMenu:!1})):s(j({},a,{NewItemMenu:!0}))}},g(d.a,{className:\"fontawesomeMedium\",name:\"plus\"})),g(v,{active:a.NewItemMenu})),g(\"button\",{className:\"adminActionBtn adminTopBarItem\",onClick:function(){a.AdminActionMenu?s(j({},a,{AdminActionMenu:!1})):s(j({},a,{AdminActionMenu:!0}))}},g(d.a,{className:\"fontawesomeMedium\",name:\"user\"})),g(b,{active:a.AdminActionMenu})))})),y=n(\"o0o1\"),w=n.n(y),D=n(\"vDqi\"),S=n.n(D),k=o.a.createElement,B=function(e){var t=Object(r.useContext)(c.a),n=Object(r.useState)({});n[0],n[1];Object(r.useEffect)((function(){}),[]);return t.settings.adminPanelSideBar?k(\"div\",{className:\"SideBar\"},k(\"button\",{onClick:function(){S.a.post(\"http://localhost:4200/server/posts/admin-postsForTest\").then((function(e){e.data.posts.forEach((function(e){var n;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={title:e.title.en,categories:e.categories,comments:e.comments,actors:e.actors,tags:e.tags,author:\"5e322f0f8b2a0637dc3b6a16\",description:e.description.en,disLikes:0,mainThumbnail:e.imageUrl,videoTrailerUrl:e.imagePreviewUrl,videoEmbedCode:e.iframe,likes:0,duration:e.duration,quality:e.quality,status:\"published\",postType:\"video\",sourceSite:\"Xhamster\",views:0,lastModify:Date.now()},a.next=3,w.a.awrap(t.functions.savePosts(n));case 3:case\"end\":return a.stop()}}))}))}))}},\"take fake data\"),k(O.a,{href:\"/admin/posts\"},k(\"a\",{className:\"SideBarItem\"},\"Posts\")),k(O.a,{href:\"/admin/media\"},k(\"a\",{className:\"SideBarItem\"},\"Media\")),k(O.a,{href:\"/admin/psges\"},k(\"a\",{className:\"SideBarItem\"},\"Pages\")),k(O.a,{href:\"/admin/comments\"},k(\"a\",{className:\"SideBarItem\"},\"Comments\")),k(O.a,{href:\"/admin/feedback\"},k(\"a\",{className:\"SideBarItem\"},\"Feedback\")),k(O.a,{href:\"/admin/design\"},k(\"a\",{className:\"SideBarItem\"},\"Design\")),k(O.a,{href:\"/admin/plugins\"},k(\"a\",{className:\"SideBarItem\"},\"Plugins\")),k(O.a,{href:\"/admin/users\"},k(\"a\",{className:\"SideBarItem\"},\"Users\")),k(O.a,{href:\"/admin/settings\"},k(\"a\",{className:\"SideBarItem\"},\"Settings\"))):null},I=n(\"nOHt\"),M=n(\"KOc1\"),A=o.a.createElement;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=Object(I.withRouter)((function(e){var t=Object(r.useContext)(c.a),n=Object(r.useRef)(null),s=Object(r.useRef)(null),l=Object(r.useState)({});l[0],l[1];return Object(r.useEffect)((function(){window.innerWidth>768&&t.dispatchSettings((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{adminPanelSideBar:!0})}))}),[]),A(o.a.Fragment,null,A(i.a,null,A(\"title\",null,\"Admin Panel\"),A(\"meta\",{name:\"theme-color\",content:\"#000000\"}),A(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),A(\"meta\",{charSet:\"utf-8\"}),A(\"link\",{href:\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\",rel:\"stylesheet\"}),A(\"link\",{rel:\"icon\",href:\"/favicon.ico\"})),A(\"div\",{ref:n,className:\"container\"},A(N,null),A(B,null),A(\"div\",{ref:s,className:\"Admin\"},e.children),A(M.a,null)))}))},\"5o8+\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/posts\",function(){return n(\"XZ0E\")}])},XZ0E:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),r=n.n(a),o=n(\"+wRh\"),s=n(\"0Bsm\"),i=n.n(s),c=n(\"A8lN\"),l=n(\"rePB\"),u=r.a.createElement;function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var d=function(e){var t=Object(a.useContext)(c.a),n=Object(a.useState)({buttons:[\"all\",\"published\",\"draft\",\"trash\"]});n[0],n[1];Object(a.useEffect)((function(){}),[]);var r=function(e){var n=e.target.name;t.dispatchAdminPostsData((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{status:n,pageNo:1,author:\"all\"})}))};return u(\"div\",{className:\"FilterStatusBtn\"},u(\"button\",{key:\"all\",className:\"all\",name:\"all\",onClick:function(e){return r(e)}},\"All\"),u(\"button\",{key:\"published\",className:\"published\",name:\"published\",onClick:function(e){return r(e)}},\"Published\"),u(\"button\",{key:\"draft\",className:\"draft\",name:\"draft\",onClick:function(e){return r(e)}},\"Draft\"),u(\"button\",{key:\"trash\",className:\"trash\",name:\"trash\",onClick:function(e){return r(e)}},\"Trash\"))},f=r.a.createElement;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=Object(a.useRef)(null),n=Object(a.useContext)(c.a),r=Object(a.useState)({keyword:\"\"}),o=r[0],s=r[1];Object(a.useEffect)((function(){}),[]);return f(\"form\",{className:\"FilterSearch\",onSubmit:function(e){return function(e){e.preventDefault(),n.dispatchAdminPostsData((function(e){return p({},e,{keyword:o.keyword,pageNo:1})}))}(e)}},f(\"input\",{ref:t,onChange:function(e){return function(e){s(p({},o,{keyword:e.target.value}))}(e)}}),f((function(){return null}),null),f(\"button\",{className:\"actionBtn\",type:\"submit\"},\"Search Posts\"))},h=r.a.createElement,v=function(e){Object(a.useContext)(c.a);var t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=Object(a.useState)({});r[0],r[1];return h(\"div\",{className:\"FilterDropDownActions\"},h(\"div\",{className:\"bulkAction\"},h(\"select\",{ref:t,placeholder:\"Bulk Actions\"},h(\"option\",{value:\"none\"},\"Bulk Actions\"),h(\"option\",{value:\"Published\"},\"Published\"),h(\"option\",{value:\"Draft\"},\"Draft\"),h(\"option\",{value:\"Trash\"},\"Trash\")),h(\"button\",{className:\"actionBtn\",onClick:function(){}},\"Apply\")),h(\"div\",{className:\"DateCategoryFotmat\"},h(\"select\",{ref:n,onChange:function(e){}},h(\"option\",{value:\"Video\"},\"Video\"),h(\"option\",{value:\"Standard\"},\"Standard\"))),h((function(){return null}),null))},g=n(\"yNYL\"),P=n.n(g),j=r.a.createElement;function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=Object(a.useContext)(c.a),n=Object(a.useRef)(null);Object(a.useRef)(null);return j(\"div\",{className:\"FilterPagination\"},j(\"div\",{className:\"pagesNavigation\"},j(\"label\",{className:\"totalPosts\"},t.adminPostsData.totalPosts,\" items\"),j(\"button\",{onClick:function(){t.dispatchAdminPostsData(y({},t.adminPostsData,{pageNo:1}))},className:\"actionBtn\"},j(P.a,{className:\"fontawesomeMedium\",name:\"angle-double-left\"})),j(\"button\",{onClick:function(){t.adminPostsData.pageNo-1<=0?t.dispatchAdminPostsData(y({},t.adminPostsData,{pageNo:1})):t.dispatchAdminPostsData(y({},t.adminPostsData,{pageNo:t.adminPostsData.pageNo-1}))},className:\"actionBtn\"},j(P.a,{className:\"fontawesomeMedium\",name:\"angle-left\"})),j(\"input\",{className:\"pageNumberInput\",placeholder:t.adminPostsData.pageNo,ref:n,type:\"number\",min:0}),j(\"button\",{onClick:function(){return function(){var e=t.adminPostsData.pageNo+1;t.dispatchAdminPostsData(y({},t.adminPostsData,{pageNo:e}))}()},className:\"actionBtn\"},j(P.a,{className:\"fontawesomeMedium\",name:\"angle-right\"})),j(\"button\",{onClick:function(){return function(){var e=Math.floor(t.adminPostsData.totalPosts/t.adminPostsData.size);t.dispatchAdminPostsData(y({},t.adminPostsData,{pageNo:e}))}()},className:\"actionBtn\"},j(P.a,{className:\"fontawesomeMedium\",name:\"angle-double-right\"}))),j(\"div\",{className:\"pagesNavigationMoreAction\"}))};w.getInitialProps=function(e){return{ctx:e}};var D=w,S=r.a.createElement,k=function(e){var t=Object(a.useState)({});t[0],t[1];return Object(a.useEffect)((function(){}),[]),S(\"div\",{className:\"Filters\"},S(d,null),S(O,null),S(v,null),S(D,null))},B=r.a.createElement,I=function(e){Object(a.useContext)(c.a);var t=Object(a.useState)({selectAll:!1});t[0],t[1];return B(\"thead\",{className:\"HeaderTable\"},B(\"tr\",null,B(\"th\",null,B(\"input\",{className:\" HeaderTableItemCheckBox\",type:\"checkbox\",onChange:function(e){}})),B(\"th\",{className:\"HeaderTableItem\"},\"Title\"),B(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Author\"),B(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Categories\"),B(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Post Tag\"),B(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Actors\"),B(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Status\"),B(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Thumb\")))},M=n(\"YFqc\"),A=n.n(M),C=r.a.createElement;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=i()((function(e){var t=Object(a.useContext)(c.a),n=Object(a.useRef)(t.adminPosts.map((function(){return Object(a.createRef)()}))),r=Object(a.useState)({hoveredId:\"\",isMobile:!1}),o=r[0],s=r[1];Object(a.useEffect)((function(){window.innerWidth<768&&s(T({},o,{isMobile:!0}))}),[]);var i=function(e){if(e.post._id===o.hoveredId){var n=\"/admin/post?id=\".concat(e.post._id);return\"Trash\"===e.post.status?C(\"div\",{className:\"postControlOptions\"},C(A.a,{to:n},\"Edit\"),C(\"button\",{onClick:function(){e.post._id}},\"Delete Permanently\"),C(\"button\",{onClick:function(){}},\"Move to Draft\")):C(\"div\",{className:\"postControlOptions\"},C(A.a,{href:n},C(\"a\",null,\"Edit\")),C(\"button\",{onClick:function(){return t.dispatchState(T({},t.state,{loading:!0})),void t.functions.bulkActionPost([o.hoveredId],\"trash\")}},\"Trash\"),C(\"button\",null,\"View\"))}return C(\"div\",{className:\"postControlOptions\"})},l=t.adminPosts.map((function(e){e.tags.map((function(e){return C(A.a,{href:\"/\",key:e,className:\"tagPreviewItem\"},\" \",C(\"a\",null,e),\",\")}));var a=e.author;e.author===t.userData._id&&(a=t.userData.username);var r=t.adminPostsData.checkedPosts.includes(e._id);return C(\"tr\",{key:e._id,className:\"BodyTableItems\",onTouchStart:function(){s(T({},o,{hoveredId:e._id}))},onMouseEnter:function(){s(T({},o,{hoveredId:e._id}))}},C(\"td\",{className:\"postColumn\"},C(\"div\",null,C(\"input\",{name:e._id,className:\" BodyTableItemCheckBox\",type:\"checkbox\",ref:function(a){return n.current[t.adminPosts.indexOf(e)]=a},checked:r,onChange:function(e){}})),C(\"div\",null,C(\"p\",{className:\"BodyTableItem\"},e.title),C(i,{post:e})),C(\"div\",null,C(\"p\",{className:\"BodyTableItem author noMobile\"},a)),C(\"div\",{className:\"tagCategoriesActorsPreview BodyTableItem noMobile\"},C(\"span\",null,\"   \",e.categories+\" , \")),C(\"div\",{className:\"tagCategoriesActorsPreview BodyTableItem noMobile\"},C(\"span\",null,\"   \",e.tags+\" , \")),C(\"div\",{className:\"tagCategoriesActorsPreview BodyTableItem noMobile\"},C(\"span\",null,\"      \",e.actors+\" , \")),C(\"div\",null,C(\"p\",{className:\"BodyTableItem noMobile\"},e.status)),C(\"div\",null,C(\"img\",{className:\"BodyTableItem noMobile\",src:e.mainThumbnail}))))}));return C(\"tbody\",{className:\"BodyTable\"},l)})),_=r.a.createElement,F=function(e){return _(\"table\",{className:\"DataTable\"},_(I,null),_(x,null))},R=r.a.createElement,H=function(e){return R(r.a.Fragment,null,R(o.a,null,R(\"div\",{className:\"Posts\"},R(k,null),R(F,null))))};H.getInitialProps=function(e){e.req;return{}};t.default=i()(H)}},[[\"5o8+\",1,2,0,3,5,4]]]);"}