{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{\"0gSU\":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/post\",function(){return n(\"Wtup\")}])},\"97dP\":function(t,e,n){\"use strict\";var a=n(\"q1tI\"),r=n.n(a).a.createElement;e.a=function(t){var e={width:t.value+\"%\"},n=t.percent?t.value+\" %\":\"\";return t.value<1?r(\"div\",{className:\"progressParent\"},r(\"div\",{className:\"progressChild\",style:e})):r(\"div\",{className:\"progressParent\"},r(\"div\",{className:\"progressChild\",style:e},\" \",n))}},WP56:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return k})),n.d(e,\"a\",(function(){return N})),n.d(e,\"c\",(function(){return E}));var a=n(\"hfKm\"),r=n.n(a),o=n(\"2Eek\"),i=n.n(o),s=n(\"XoMD\"),c=n.n(s),u=n(\"Jo+v\"),l=n.n(u),p=n(\"4mXO\"),f=n.n(p),d=n(\"pLtp\"),m=n.n(d),v=n(\"ln6h\"),b=n.n(v),h=n(\"vYYK\"),g=n(\"vDqi\"),y=n.n(g);function w(t,e){var n=m()(t);if(f.a){var a=f()(t);e&&(a=a.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,a)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){Object(h.a)(t,e,n[e])})):c.a?i()(t,c()(n)):w(Object(n)).forEach((function(e){r()(t,e,l()(n,e))}))}return t}var k=function(t){var e;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=O({},t),n.next=3,b.a.awrap(y.a.post(\"http://localhost:3000/api/v1/posts\",e));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},N=function(t){var e;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=O({},t),n.next=3,b.a.awrap(y.a.post(\"http://localhost:3000/api/v1/posts/post\",e));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},E=function(t,e){var n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={id:t,type:e},a.next=3,b.a.awrap(y.a.post(\"http://localhost:3000/api/v1/posts/likeDislikeView\",n));case 3:return a.abrupt(\"return\",a.sent);case 4:case\"end\":return a.stop()}}))}},Wtup:function(t,e,n){\"use strict\";n.r(e);var a=n(\"ln6h\"),r=n.n(a),o=n(\"dfwq\"),i=n(\"q1tI\"),s=n.n(i),c=n(\"hItm\"),u=n(\"vDqi\"),l=n.n(u),p=n(\"WP56\"),f=s.a.createElement,d=function(t){return t.iframeCode?f(\"div\",{className:\"video-player\"},f(\"meta\",{itemProp:\"name\",content:t.meta.title}),f(\"meta\",{itemProp:\"description\",content:t.meta.description}),f(\"meta\",{itemProp:\"duration\",content:t.meta.duration}),f(\"meta\",{itemProp:\"thumbnailUrl\",content:t.meta.thumbnailUrl}),f(\"meta\",{itemProp:\"embedURL\",content:t.meta.embedURL}),f(\"meta\",{itemProp:\"uploadDate\",content:t.meta.uploadDate}),f(\"div\",{className:\"responsive-player\"},f(\"iframe\",{src:t.iframeCode,frameBorder:\"0\",width:\"640\",height:\"360\",scrolling:\"no\"}))):null},m=n(\"hfKm\"),v=n.n(m),b=n(\"2Eek\"),h=n.n(b),g=n(\"XoMD\"),y=n.n(g),w=n(\"Jo+v\"),O=n.n(w),k=n(\"4mXO\"),N=n.n(k),E=n(\"pLtp\"),j=n.n(E),L=n(\"vYYK\"),C=n(\"YFqc\"),x=n.n(C),P=n(\"yNYL\"),q=n.n(P),T=s.a.createElement;function D(t,e){var n=j()(t);if(N.a){var a=N()(t);e&&(a=a.filter((function(e){return O()(t,e).enumerable}))),n.push.apply(n,a)}return n}var _=function(t){var e=Object(i.useState)({data:t.data||[],type:t.type||\"tags\",fontawesome:\"\"}),n=e[0],a=e[1];Object(i.useEffect)((function(){var e=\"\";switch(t.type){case\"actors\":e=\"star\";break;case\"tags\":e=\"tags\";break;case\"categories\":e=\"folder\"}a(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){Object(L.a)(t,e,n[e])})):y.a?h()(t,y()(n)):D(Object(n)).forEach((function(e){v()(t,e,O()(n,e))}))}return t}({},n,{fontawesome:e}))}),[]);var r=n.data.map((function(t){var e=\"/\"+n.type+\"/\"+t;return T(x.a,{href:e,key:t},T(\"a\",{className:n.type},t))}));return t.data.length>1?T(\"div\",{className:n.type+\" tags-categories-actors\"},T(\"span\",null,T(q.a,{className:\"fontawesomeMedium\",name:n.fontawesome}),\" \",n.type.charAt(0).toUpperCase()+n.type.substring(1),\":\"),T(\"div\",{className:\"content\"},r)):null},S=n(\"97dP\"),M=s.a.createElement,U=function(t){var e=Object(i.useState)({});e[0],e[1];return Object(i.useEffect)((function(){}),[]),t.downloadLink?M(\"div\",{id:\"download-url\"},M(\"a\",{href:t.downloadLink,target:\"_blank\",className:\"download-link\"},\"Download\")):null},A=s.a.createElement;function X(t,e){var n=j()(t);if(N.a){var a=N()(t);e&&(a=a.filter((function(e){return O()(t,e).enumerable}))),n.push.apply(n,a)}return n}var Y=function(t){var e=Object(i.useState)({likeValue:0,postAbsolutePath:\"\"}),n=e[0],a=e[1];return Object(i.useEffect)((function(){var e,r;a(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){Object(L.a)(t,e,n[e])})):y.a?h()(t,y()(n)):X(Object(n)).forEach((function(e){v()(t,e,O()(n,e))}))}return t}({},n,{likeValue:(e=t.likes,r=t.disLikes,e>0&&r>0?Math.round(100*e/(e+r)):0===e&&0===r?0:0===e&&r>0?0:e>0&&0===r?100:0),postAbsolutePath:window.location.href})),Object(p.c)(t.id,\"views\")}),[]),A(\"div\",{className:\"post-info\"},A(\"div\",{className:\"post-info-head\"},A(\"h1\",null,t.title),A(\"div\",{className:\"like\"},A(\"button\",{onClick:function(e){Object(p.c)(t.id,\"likes\")}},\"like\",A(q.a,{className:\"fontawesomeMedium\",name:\"thumbs-up\"})),A(\"button\",{onClick:function(e){Object(p.c)(t.id,\"disLikes\")}},A(q.a,{className:\"fontawesomeMedium\",name:\"thumbs-down\"})))),A(\"div\",{className:\"post-info-body\"},A(\"div\",{className:\"views\"},A(U,{downloadLink:t.videoEmbedCode}),A(\"span\",null,t.views,\" views\"),A(S.a,{value:n.likeValue,percent:!1}),A(\"div\",{className:\"post-rate\"},A(\"div\",null,n.likeValue,\" %\"),A(\"div\",{className:\"like-disLike-count\"},A(\"span\",{className:\"like-disLike-count-items\"},A(q.a,{className:\"fontawesomeMedium\",name:\"thumbs-up\"}),t.likes),A(\"span\",{className:\"like-disLike-count-items\"},A(q.a,{className:\"fontawesomeMedium\",name:\"thumbs-down\"}),t.disLikes)))),A(\"div\",{className:\"meta-description\"},A(\"div\",{className:\"description\"},t.description),A(_,{type:\"actors\",data:t.actors}),A(_,{type:\"tags\",data:t.tags}),A(_,{type:\"categories\",data:t.categories}))))},B=n(\"0Bsm\"),K=n.n(B),V=s.a.createElement,I=function(t){var e=Object(i.useState)({});e[0],e[1];return Object(i.useEffect)((function(){}),[]),V(\"div\",{className:\"post-sidebar\"},\"i am sidebar\")},R=n(\"8Kt/\"),F=n.n(R),J=(n(\"bSV5\"),n(\"A8lN\")),W=s.a.createElement,Z=function(t){var e=Object(i.useContext)(J.a);return Object(i.useEffect)((function(){console.log(t),t.navigation&&e.dispatchNavigationData(t.navigation.data)}),[t]),W(c.a,null,W(s.a.Fragment,null,W((function(){return t.post.title?W(F.a,null,W(\"title\",null,t.post.title),W(\"meta\",{name:\"description\",content:t.post.description}),W(\"meta\",{name:\"keywords\",content:[].concat(Object(o.a)(t.post.tags),Object(o.a)(t.post.categories),Object(o.a)(t.post.actors))}),W(\"meta\",{property:\"og:title\",content:t.post.title}),W(\"meta\",{property:\"og:type\",content:\"video\"===t.post.postType?t.post.postType+\".movies\":t.post.postType}),W(\"meta\",{property:\"og:url\",content:t.post.videoEmbedCode}),W(\"meta\",{property:\"og:image\",content:t.post.mainThumbnail})):null}),null),W(\"div\",{className:\"post\"},W(I,null),W(\"div\",{className:\"main\"},W(d,{iframeCode:t.post.videoEmbedCode,meta:{description:t.post.description,title:t.post.title,duration:t.post.duration,thumbnailUrl:t.post.mainThumbnail,embedURL:t.post.videoEmbedCode,uploadDate:t.post.lastModify}}),W(Y,{title:t.post.title,description:t.post.description,tags:t.post.tags,actors:t.post.actors,categories:t.post.categories,id:t.post._id,likes:t.post.likes,disLikes:t.post.disLikes,views:t.post.views,videoEmbedCode:t.post.videoEmbedCode})))))};Z.getInitialProps=function(t){var e,n,a,o,i,s,c;return r.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t.pathname,e=t.query,t.req,t.res,t.err,o={postTitle:e.postTitle},i={type:\"navigation\"},u.prev=3,u.next=6,r.a.awrap(Object(p.a)(o));case 6:return s=u.sent,n=s.data.post,u.next=10,r.a.awrap(l.a.post(\"http://localhost:3000/api/v1/settings/get\",i));case 10:c=u.sent,a=c.data.setting,u.next=17;break;case 14:u.prev=14,u.t0=u.catch(3),console.error(u.t0);case 17:return u.abrupt(\"return\",{post:n,query:e,navigation:a});case 18:case\"end\":return u.stop()}}),null,null,[[3,14]])};e.default=K()(Z)},bSV5:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return s})),n.d(e,\"a\",(function(){return c}));var a=n(\"ln6h\"),r=n.n(a),o=n(\"vDqi\"),i=n.n(o),s=function(t,e){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.wt){a.next=5;break}return n={token:localStorage.wt,type:t,data:e},a.next=4,r.a.awrap(i.a.post(\"http://localhost:3000/api/v1/settings/update\",n));case 4:return a.abrupt(\"return\",a.sent);case 5:case\"end\":return a.stop()}}))},c=function(t){var e;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e={type:t},n.next=3,r.a.awrap(i.a.post(\"http://localhost:3000/api/v1/settings/get\",e));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))}},dfwq:function(t,e,n){\"use strict\";var a=n(\"p0XB\"),r=n.n(a);var o=n(\"d04V\"),i=n.n(o),s=n(\"yLu3\"),c=n.n(s);function u(t){return function(t){if(r()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(c()(Object(t))||\"[object Arguments]\"===Object.prototype.toString.call(t))return i()(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}n.d(e,\"a\",(function(){return u}))},hItm:function(t,e,n){\"use strict\";var a=n(\"q1tI\"),r=n.n(a),o=(n(\"8Kt/\"),n(\"ln6h\")),i=n.n(o);var s=n(\"hfKm\"),c=n.n(s);function u(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),c()(t,a.key,a)}}var l=n(\"XVgq\"),p=n.n(l),f=n(\"Z7t5\"),d=n.n(f);function m(t){return(m=\"function\"===typeof d.a&&\"symbol\"===typeof p.a?function(t){return typeof t}:function(t){return t&&\"function\"===typeof d.a&&t.constructor===d.a&&t!==d.a.prototype?\"symbol\":typeof t})(t)}function v(t){return(v=\"function\"===typeof d.a&&\"symbol\"===m(p.a)?function(t){return m(t)}:function(t){return t&&\"function\"===typeof d.a&&t.constructor===d.a&&t!==d.a.prototype?\"symbol\":m(t)})(t)}function b(t,e){return!e||\"object\"!==v(e)&&\"function\"!==typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}var h=n(\"Bhuq\"),g=n.n(h),y=n(\"TRZx\"),w=n.n(y);function O(t){return(O=w.a?g.a:function(t){return t.__proto__||g()(t)})(t)}var k=n(\"SqZg\"),N=n.n(k);function E(t,e){return(E=w.a||function(t,e){return t.__proto__=e,t})(t,e)}var j=n(\"YFqc\"),L=n.n(j),C=r.a.createElement,x=function(){return C(L.a,{href:\"/\"},C(\"div\",{className:\"Logo\"},C(\"img\",{src:\"/static/images/logo/Logo.png\"})))},P=(n(\"0Bsm\"),r.a.createElement),q=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),b(this,O(e).apply(this,arguments))}var n,a,r;return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=N()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,t),n=e,r=[{key:\"getInitialProps\",value:function(t){var e;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.req,e={name:\"nima\"},n.abrupt(\"return\",{data:e});case 3:case\"end\":return n.stop()}}))}}],(a=[{key:\"render\",value:function(){return console.log(this.props),P(\"div\",{className:\"Header\"},P(x,null))}}])&&u(n.prototype,a),r&&u(n,r),e}(a.Component),T=(n(\"00et\"),n(\"A8lN\")),D=n(\"nOHt\"),_=r.a.createElement,S=Object(D.withRouter)((function(t){var e=Object(a.useContext)(T.a);return e.userData.username?\"administrator\"===e.userData.role?_(\"div\",{className:\"TopBar\"},_(\"button\",{onClick:function(){return e.functions.logOutUser()}},\"Log Out\"),_(\"button\",{onClick:function(){return e.functions.goToAdminPanel()}},\"Admin Panel\")):_(\"div\",{className:\"TopBar\"},_(\"button\",{onClick:function(){return e.functions.logOutUser()}},\"Log Out\")):_(\"div\",{className:\"TopBar\"},_(L.a,{href:\"/auth/login\"},_(\"a\",null,\"Login\")),_(\"span\",null,\"Or\"),_(L.a,{href:\"/auth/register\"},_(\"a\",null,\"Register\")))})),M=n(\"2Eek\"),U=n.n(M),A=n(\"XoMD\"),X=n.n(A),Y=n(\"Jo+v\"),B=n.n(Y),K=n(\"4mXO\"),V=n.n(K),I=n(\"pLtp\"),R=n.n(I),F=n(\"vYYK\"),J=n(\"yNYL\"),W=n.n(J),Z=r.a.createElement;function H(t,e){var n=R()(t);if(V.a){var a=V()(t);e&&(a=a.filter((function(e){return B()(t,e).enumerable}))),n.push.apply(n,a)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){Object(F.a)(t,e,n[e])})):X.a?U()(t,X()(n)):H(Object(n)).forEach((function(e){c()(t,e,B()(n,e))}))}return t}var G=function(t){var e=Object(a.useContext)(T.a),n=Object(a.useRef)(null),o=Object(a.useState)({isOpen:!1,items:[]}),i=o[0],s=o[1];Object(a.useEffect)((function(){window.innerWidth<768?s(z({},i,{isOpen:!1})):s(z({},i,{isOpen:!0}))}),[]),Object(a.useEffect)((function(){n.current&&(i.isOpen?n.current.style.display=\"flex\":n.current.style.display=\"none\")}),[i.isOpen]),Object(a.useEffect)((function(){s((function(t){return z({},t,{items:e.navigationData})}))}),[e.navigationData]);Object(a.useEffect)((function(){console.log(i)}),[i]);var c=i.items.map((function(t){return Z(L.a,{href:t.url},Z(\"a\",null,t.title))}));return Z(r.a.Fragment,null,Z(\"button\",{className:\"navigationMobileBtn\",onClick:function(){i.isOpen?s(z({},i,{isOpen:!1})):s(z({},i,{isOpen:!0}))}},Z(W.a,{className:\"fontawesomeMedium\",name:i.isOpen?\"times\":\"bars\"})),Z(\"div\",{ref:n,className:\"Navigation\"},c))},Q=n(\"KOc1\"),$=r.a.createElement;e.a=function(t){return $(r.a.Fragment,null,$(S,null),$(q,null),$(G,null),$(Q.a,null),$(\"div\",{className:\"App\"},t.children))}}},[[\"0gSU\",1,2,0,3,4]]]);"}