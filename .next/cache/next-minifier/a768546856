{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{\"77BS\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/design/widgets\",function(){return n(\"e3r6\")}])},e3r6:function(e,t,n){\"use strict\";n.r(t);var a=n(\"o0o1\"),i=n.n(a),o=n(\"KQm4\"),r=n(\"rePB\"),s=n(\"q1tI\"),c=n.n(s),u=n(\"+wRh\"),l=(n(\"e654\"),{type:\"\",title:\"\",categories:[],tags:[],count:8,comments:[],pagination:!1,position:\"\",redirectLink:\"\",sortBy:\"\",text:\"\",textAlign:\"center\",customHtml:\"\",metaType:\"\",pathURL:\"\",LogoUrl:\"\",LogoText:\"\",headLine:\"\",viewType:\"standard\"}),d=n(\"bSV5\"),g=n(\"A8lN\"),p=c.a.createElement;function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=Object(s.useContext)(g.a),n=Object(s.useState)({open:!1}),a=n[0],i=n[1],r=function(){a.open?i(f({},a,{open:!1})):i(f({},a,{open:!0}))},c=function(e,n){var a=l;a.position=e,a.type=n,Object(d.a)(l).then((function(){Object(d.g)(\"home\",!1,window.location.origin).then((function(e){t.dispatchWidgetsSettings({widgets:Object(o.a)(e.data.widgets)})}))})).catch((function(e){console.log(e)}))};return a.open?p(\"div\",{className:\"AddWidgetWithPositionMenu\"},p(\"button\",{className:\"positionsOpener\",onClick:function(){return r()}},e.name),p(\"div\",{className:\"AddWidgetWithPositionMenuPositions\"},p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"home\",e.type)}},\"Home Page\"),p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"header\",e.type)}},\"Header\"),p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"homePageSidebar\",e.type)}},\"Home Page Sidebar\"),p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"postPageSidebar\",e.type)}},\"Post Page Sidebar\"),p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"postsPageSidebar\",e.type)}},\"Posts Page Sidebar\"),p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"tagsPageSidebar\",e.type)}},\"Tags Page Sidebar\"),p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"categoriesPageSidebar\",e.type)}},\"Categories Page Sidebar\"),p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"actorsPageSidebar\",e.type)}},\"Actors Page Sidebar\"),p(\"button\",{className:\"AddWidgetWithPositionMenuPositionsBtn\",onClick:function(){return c(\"footer\",e.type)}},\"Footer\"))):p(\"div\",{className:\"AddWidgetWithPositionMenu\"},p(\"button\",{className:\"positionsOpener\",onClick:function(){return r()}},e.name))},P=c.a.createElement,w=function(e){return P(\"div\",{className:\"AddWidgetMenu\"},P(b,{type:\"text\",name:\"Text\"}),P(b,{type:\"posts\",name:\"Posts\"}),P(b,{type:\"recentComments\",name:\"Recent Comments\"}),P(b,{type:\"searchBar\",name:\"Search\"}),P(b,{type:\"meta\",name:\"Meta\"}),P(b,{type:\"logo\",name:\"Logo\"}),P(b,{type:\"navigationMenu\",name:\"Navigation Menu\"}))},v=n(\"U+0P\"),h=n(\"bDCP\"),y=c.a.createElement;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=Object(s.useContext)(g.a),n=Object(s.useRef)(null),a=Object(s.useRef)(null),i=Object(s.useRef)(null),u=Object(s.useRef)(null),l=(Object(s.useRef)(null),Object(s.useRef)(null),Object(s.useState)({title:e.data.title||\"\",categories:e.data.categories||[],tags:e.data.tags||[],count:e.data.count||6,pagination:e.data.pagination||!1,redirectLink:e.data.redirectLink||\"\",redirectToTitle:e.data.redirectToTitle||\"\",type:e.data.type||\"posts\",metaData:e.data.metaData||[],posts:e.data.posts||[],comments:e.data.comments||[],position:e.data.position||\"home\",sortBy:e.data.sortBy||\"-id\",text:e.data.text||\"\",textAlign:e.data.textAlign||\"center\",customHtml:e.data.customHtml||\"\",metaType:e.data.metaType||\"\",pathURL:e.data.pathURL||\"\",LogoUrl:e.data.LogoUrl||\"\",LogoText:e.data.LogoText||\"\",headLine:e.data.headLine||\"\",viewType:e.data.viewType||\"\"})),p=l[0],m=l[1],f=Object(s.useState)({open:!1}),b=f[0],P=f[1],w=function(){b.open?P(S({},b,{open:!1})):P(S({},b,{open:!0}))},v=function(e){m(S({},p,Object(r.a)({},e.target.name,e.target.value)))},O=p.tags.map((function(e){return y(\"button\",{name:e,onClick:function(e){return function(e){m(S({},p,{tags:p.tags.filter((function(t){return t!==e.target.name}))}))}(e)}},e,\"X\")})),j=p.categories.map((function(e){return y(\"button\",{name:e,onClick:function(e){return function(e){m(S({},p,{categories:p.categories.filter((function(t){return t!==e.target.name}))}))}(e)}},e,\"X\")}));Object(s.useEffect)((function(){setTimeout((function(){[\"count\"].forEach((function(e){[e].current&&([e].current.value=p[e])}))}),2e3)}),[]);return b.open?y(c.a.Fragment,null,y(\"div\",{className:\"widget-open-control\"},y(\"p\",null,e.data.title||e.data.type),y(\"button\",{onClick:function(){return w()}},b.open?\"close\":\"open\")),y(\"div\",{className:\"widgetModel\"},y(\"div\",{className:\"widgetInfo\"},y(\"label\",{className:\"widgetId\"},y(\"p\",null,\"ID :\"),\" \",y(\"p\",null,e.data._id))),y(\"p\",null,\"Title:\"),y(\"input\",{name:\"title\",ref:n,className:\"title\",placeholder:\"Title\",value:p.title,onChange:function(e){return v(e)}}),y(\"p\",null,\"Type:\"),y(\"select\",{name:\"type\",value:p.type,onChange:function(e){return v(e)}},y(\"option\",{value:\"posts\"},\"Posts\"),y(\"option\",{value:\"text\"},\"Text\"),y(\"option\",{value:\"logo\"},\"Logo\"),y(\"option\",{value:\"recentComments\"},\"Recent Comments\"),y(\"option\",{value:\"search\"},\"Search\"),y(\"option\",{value:\"meta\"},\"Meta\"),y(\"option\",{value:\"video\"},\"Video\"),y(\"option\",{value:\"navigationMenu\"},\"Navigation Menu\")),y(\"p\",null,\"Position:\"),y(\"select\",{name:\"position\",value:p.position,onChange:function(e){return v(e)}},y(\"option\",{value:\"home\"},\"Home\"),y(\"option\",{value:\"header\"},\"Header\"),y(\"option\",{value:\"homePageSidebar\"},\"Home Page Sidebar\"),y(\"option\",{value:\"postPageSidebar\"},\"Post Page SideBar\"),y(\"option\",{value:\"postsPageSidebar\"},\"Posts Page SideBar\"),y(\"option\",{value:\"categoriesPageSidebar\"},\"Categories Page SideBar\"),y(\"option\",{value:\"tagsPagesSidebar\"},\"Tags Page SideBar\"),y(\"option\",{value:\"actorsPagesSidebar\"},\"Actors Page SideBar\"),y(\"option\",{value:\"footer\"},\"footer\")),y(\"p\",null,\"Text:\"),y(\"textarea\",{name:\"text\",value:p.text,onChange:function(e){return v(e)}}),y(\"p\",null,\"Text Align:\"),y(\"select\",{name:\"textAlign\",value:p.textAlign,onChange:function(e){return v(e)}},y(\"option\",{value:\"left\"},\"Left\"),y(\"option\",{value:\"center\"},\"Center\"),y(\"option\",{value:\"right\"},\"Right\")),y(\"p\",null,\"Redirect Link Title\"),y(\"input\",{className:\"redirectToTitle\",name:\"redirectToTitle\",placeholder:\"Title for Redirect Link\",value:p.redirectToTitle,onChange:function(e){return v(e)}}),y(\"p\",null,\"Redirect Link URL:\"),y(\"input\",{className:\"redirectLink\",name:\"redirectLink\",placeholder:\"Redirect\",value:p.redirectLink,onChange:function(e){return v(e)}}),y((function(){switch(p.type){case\"posts\":return y(c.a.Fragment,null,y(\"p\",null,\"Sort By:\"),y(\"select\",{name:\"sortBy\",value:p.sortBy,onChange:function(e){return v(e)}},y(\"option\",{value:\"_id\"},\"ID\"),y(\"option\",{value:\"views\"},\"Views\"),y(\"option\",{value:\"likes\"},\"Likes\")),y(\"p\",null,\"View Type:\"),y(\"select\",{name:\"viewType\",value:p.viewType,onChange:function(e){return v(e)}},y(\"option\",{value:\"standard\"},\"Standard\"),y(\"option\",{value:\"small\"},\"Small\"),y(\"option\",{value:\"list\"},\"List\")),y(\"p\",null,\"Categories:\"),y(\"div\",{className:\"inputWithAddBtn\"},y(\"input\",{ref:a,name:\"category\",className:\"category\",placeholder:\"Categories\"}),y(\"button\",{onClick:function(){return m(S({},p,{categories:[].concat(Object(o.a)(p.categories),[a.current.value])})),void(a.current.value=\"\")}},\"add\")),y(\"div\",{className:\"categoriesTags\"},j),y(\"p\",null,\"Tags:\"),y(\"div\",{className:\"inputWithAddBtn\"},y(\"input\",{ref:i,className:\"tags\",name:\"tags\",placeholder:\"Tags\"}),y(\"button\",{onClick:function(){return m(S({},p,{tags:[].concat(Object(o.a)(p.tags),[i.current.value])})),void(i.current.value=\"\")}},\"add\")),y(\"div\",{className:\"categoriesTags\"},O),y(\"p\",null,\"Count:\"),y(\"input\",{ref:u,name:\"count\",type:\"number\",className:\"count\",placeholder:\"count\",value:p.count,onChange:function(e){return v(e)}}),y(\"span\",null,\"Pagination:\"),y(\"select\",{name:\"pagination\",value:p.pagination,onChange:function(e){return v(e)}},y(\"option\",{value:!1},\"false\"),y(\"option\",{value:!0},\"true\")));case\"meta\":return y(c.a.Fragment,null,y(\"p\",null,\"Sort By:\"),y(\"select\",{name:\"sortBy\",value:p.sortBy,onChange:function(e){return v(e)}},y(\"option\",{value:\"_id\"},\"ID\"),y(\"option\",{value:\"count\"},\"Count\")),y(\"p\",null,\"Meta Type:\"),y(\"select\",{name:\"metaType\",value:p.metaType,onChange:function(e){return v(e)}},y(\"option\",{value:\"tag\"},\"Tag\"),y(\"option\",{value:\"category\"},\"Category\"),y(\"option\",{value:\"actor\"},\"Actor\")),y(\"p\",null,\"Count:\"),y(\"input\",{ref:u,name:\"count\",type:\"number\",className:\"count\",placeholder:\"count\",value:p.count,onChange:function(e){return v(e)}}));case\"searchBar\":return y(c.a.Fragment,null,y(\"p\",null,\"path URL\"),y(\"input\",{name:\"pathURL\",value:p.pathURL,className:\"pathURL\",onChange:function(e){return v(e)}}));case\"logo\":return y(c.a.Fragment,null,y(\"p\",null,\"Logo image URL\"),y(\"input\",{name:\"LogoUrl\",value:p.LogoUrl,className:\"LogoUrl\",onChange:function(e){return v(e)}}),y(\"p\",null,\"Logo Text\"),y(\"input\",{name:\"LogoText\",value:p.LogoText,className:\"LogoText\",onChange:function(e){return v(e)}}),y(\"p\",null,\"Under Logo Headline Text\"),y(\"input\",{name:\"headLine\",value:p.headLine,className:\"headLine\",onChange:function(e){return v(e)}}));default:return null}}),null),y(h.a,{widgets:[p],position:p.position}),y(\"div\",{className:\"control\"},y(\"button\",{onClick:function(){Object(d.j)(e.data._id,p).then((function(e){Object(d.g)(\"all\",!1,window.location.origin).then((function(e){t.dispatchWidgetsSettings({widgets:Object(o.a)(e.data.widgets)})}))}))}},\"Save\"),y(\"button\",{onClick:function(){Object(d.b)(e.data._id,t.absolutePath).then((function(){Object(d.g)(\"all\",!1,window.location.origin).then((function(e){t.dispatchWidgetsSettings({widgets:Object(o.a)(e.data.widgets)})}))}))}},\"Delete\")))):y(\"div\",{className:\"widget-open-control\"},y(\"p\",null,e.data.title||e.data.type),y(\"button\",{onClick:function(){return w()}},b.open?\"close\":\"open\"))},N=c.a.createElement;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var T=function(e){var t=Object(s.useContext)(g.a),n=Object(s.useState)({home:[],homePageSidebar:[],postPageSidebar:[],postsPageSidebar:[],footer:[],tagsPageSidebar:[],categoriesPageSidebar:[],actorsPageSidebar:[],header:[]});n[0],n[1];Object(s.useEffect)((function(){e.widgets&&t.dispatchWidgetsSettings(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.widgetsSettings,{widgets:Object(o.a)(e.widgets)}))}),[]);var a=t.widgetsSettings.widgets.map((function(e){if(\"home\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),i=t.widgetsSettings.widgets.map((function(e){if(\"homePageSidebar\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),c=t.widgetsSettings.widgets.map((function(e){if(\"postPageSidebar\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),l=t.widgetsSettings.widgets.map((function(e){if(\"postsPageSidebar\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),d=t.widgetsSettings.widgets.map((function(e){if(\"footer\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),p=t.widgetsSettings.widgets.map((function(e){if(\"tagsPageSidebar\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),m=t.widgetsSettings.widgets.map((function(e){if(\"categoriesPageSidebar\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),f=t.widgetsSettings.widgets.map((function(e){if(\"actorsPageSidebar\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),b=t.widgetsSettings.widgets.map((function(e){if(\"header\"===e.position)return N(j,{key:t.widgetsSettings.widgets.indexOf(e),data:e})}));return N(u.a,null,N(\"div\",{id:\"HomePageWidgets\"},N(\"div\",{className:\"sidePanel\"},N(w,null)),N(\"div\",{className:\"widgets\"},N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Homepage\"),a),N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Header\"),b),N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Home Page Sidebar\"),i),N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Post Page\"),c),N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Posts Page\"),l),N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Tags Page\"),p),N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Categories Page\"),m),N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Actors Page\"),f),N(\"div\",{className:\"widgetAdminPanelItem\"},N(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Footer\"),d))))};T.getInitialProps=function(e){var t,n,a,o;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.asPath,e.pathname,e.query,t=e.req,e.res,e.err,!t){r.next=7;break}return r.next=4,i.a.awrap(Object(v.b)(t));case 4:r.t0=r.sent,r.next=8;break;case 7:r.t0=\"\";case 8:return n=r.t0,r.next=11,i.a.awrap(Object(d.e)({widgets:[\"all\"]},!1,n));case 11:return o=r.sent,a=o.data.widgets?o.data.widgets:[],r.abrupt(\"return\",{widgets:a,domainName:n});case 14:case\"end\":return r.stop()}}))};t.default=T}},[[\"77BS\",1,2,0,3,5,4,7,8,6]]]);"}