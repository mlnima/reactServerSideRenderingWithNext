{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{\"+wRh\":function(e,t,n){\"use strict\";var a=n(\"hfKm\"),i=n.n(a),r=n(\"2Eek\"),s=n.n(r),o=n(\"XoMD\"),c=n.n(o),u=n(\"Jo+v\"),l=n.n(u),m=n(\"4mXO\"),d=n.n(m),f=n(\"pLtp\"),p=n.n(f),v=n(\"vYYK\"),h=n(\"q1tI\"),b=n.n(h),w=n(\"8Kt/\"),g=n.n(w),N=(n(\"00et\"),n(\"A8lN\")),y=n(\"0Bsm\"),S=n.n(y),O=n(\"yNYL\"),j=n.n(O),k=b.a.createElement,A=function(e){return e.active?k(\"div\",{className:\"AdminActionMenu\"},k(\"button\",{className:\"AdminActionMenuItem\"},\" My Profile\"),k(\"button\",{className:\"AdminActionMenuItem\"},\" Edit My Profile\"),k(\"button\",{className:\"AdminActionMenuItem\"},\" Log Out\")):null},B=n(\"YFqc\"),I=n.n(B),C=b.a.createElement,M=function(e){var t=Object(h.useState)({});t[0],t[1];return Object(h.useEffect)((function(){}),[]),e.active?C(\"div\",{className:\"NewItemMenu\"},C(I.a,{href:\"/admin/post?new=1\"},C(\"a\",{className:\"SideBarItem\"},\"New Post\"))):null},E=b.a.createElement;function P(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?s()(e,c()(n)):P(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}var x=S()((function(e){var t=Object(h.useContext)(N.a),n=Object(h.useState)({AdminActionMenu:!1,NewItemMenu:!1}),a=n[0],i=n[1];return E(b.a.Fragment,null,E(\"div\",{className:\"adminTopBar\"},E(\"div\",{className:\"adminTopBarControl\"},E(\"button\",{className:\"adminSideBarMobileBtn adminTopBarItem\",onClick:function(){t.settings.adminPanelSideBar?t.dispatchSettings((function(e){return T({},e,{adminPanelSideBar:!1})})):t.dispatchSettings((function(e){return T({},e,{adminPanelSideBar:!0})}))}},E(j.a,{className:\"fontawesomeMedium\",name:\"bars\"})),E(\"button\",{className:\"adminGoToHomePageBtn adminTopBarItem\",onClick:function(){return e.router.push(\"/\"),void console.log(e.router)}},E(j.a,{className:\"fontawesomeMedium\",name:\"home\"})),E(\"button\",{className:\"adminNewActionBtn adminTopBarItem\",onClick:function(){a.NewItemMenu?i(T({},a,{NewItemMenu:!1})):i(T({},a,{NewItemMenu:!0}))}},E(j.a,{className:\"fontawesomeMedium\",name:\"plus\"})),E(M,{active:a.NewItemMenu})),E(\"button\",{className:\"adminActionBtn adminTopBarItem\",onClick:function(){a.AdminActionMenu?i(T({},a,{AdminActionMenu:!1})):i(T({},a,{AdminActionMenu:!0}))}},E(j.a,{className:\"fontawesomeMedium\",name:\"user\"})),E(A,{active:a.AdminActionMenu})))})),D=n(\"ln6h\"),q=n.n(D),L=n(\"Cg2A\"),H=n.n(L),K=n(\"vDqi\"),X=n.n(K),Y=b.a.createElement,F=function(e){var t=Object(h.useContext)(N.a),n=Object(h.useState)({});n[0],n[1];Object(h.useEffect)((function(){}),[]);return t.settings.adminPanelSideBar?Y(\"div\",{className:\"SideBar\"},Y(\"button\",{onClick:function(){X.a.post(\"http://localhost:4200/server/posts/admin-postsForTest\").then((function(e){e.data.posts.forEach((function(e){var n;return q.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={title:e.title.en,categories:e.categories,comments:e.comments,actors:e.actors,tags:e.tags,author:\"5e322f0f8b2a0637dc3b6a16\",description:e.description.en,disLikes:0,mainThumbnail:e.imageUrl,videoTrailerUrl:e.imagePreviewUrl,videoEmbedCode:e.iframe,likes:0,duration:e.duration,quality:e.quality,status:\"published\",postType:\"video\",sourceSite:\"Xhamster\",views:0,lastModify:H()()},a.next=3,q.a.awrap(t.functions.savePosts(n));case 3:case\"end\":return a.stop()}}))}))}))}},\"take fake data\"),Y(I.a,{href:\"/admin/posts\"},Y(\"a\",{className:\"SideBarItem\"},\"Posts\")),Y(I.a,{href:\"/admin/media\"},Y(\"a\",{className:\"SideBarItem\"},\"Media\")),Y(I.a,{href:\"/admin/psges\"},Y(\"a\",{className:\"SideBarItem\"},\"Pages\")),Y(I.a,{href:\"/admin/comments\"},Y(\"a\",{className:\"SideBarItem\"},\"Comments\")),Y(I.a,{href:\"/admin/feedback\"},Y(\"a\",{className:\"SideBarItem\"},\"Feedback\")),Y(I.a,{href:\"/admin/design\"},Y(\"a\",{className:\"SideBarItem\"},\"Design\")),Y(I.a,{href:\"/admin/plugins\"},Y(\"a\",{className:\"SideBarItem\"},\"Plugins\")),Y(I.a,{href:\"/admin/users\"},Y(\"a\",{className:\"SideBarItem\"},\"Users\")),Y(I.a,{href:\"/admin/settings\"},Y(\"a\",{className:\"SideBarItem\"},\"Settings\"))):null},R=n(\"nOHt\"),U=n(\"KOc1\"),_=b.a.createElement;function J(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=Object(R.withRouter)((function(e){var t=Object(h.useContext)(N.a),n=Object(h.useRef)(null),a=Object(h.useRef)(null),r=Object(h.useState)({});r[0],r[1];return Object(h.useEffect)((function(){window.innerWidth>768&&t.dispatchSettings((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?s()(e,c()(n)):J(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}({},e,{adminPanelSideBar:!0})}))}),[]),_(b.a.Fragment,null,_(g.a,null,_(\"title\",null,\"Admin Panel\"),_(\"meta\",{name:\"theme-color\",content:\"#000000\"}),_(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),_(\"meta\",{charSet:\"utf-8\"}),_(\"link\",{href:\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\",rel:\"stylesheet\"}),_(\"link\",{rel:\"icon\",href:\"/favicon.ico\"})),_(\"div\",{ref:n,className:\"container\"},_(x,null),_(F,null),_(\"div\",{ref:a,className:\"Admin\"},e.children),_(U.a,null)))}))},\"6CmU\":function(e,t,n){n(\"LzdP\"),e.exports=n(\"WEpk\").Date.now},\"9HFx\":function(e,t,n){\"use strict\";n.r(t);var a=n(\"hfKm\"),i=n.n(a),r=n(\"2Eek\"),s=n.n(r),o=n(\"XoMD\"),c=n.n(o),u=n(\"Jo+v\"),l=n.n(u),m=n(\"4mXO\"),d=n.n(m),f=n(\"pLtp\"),p=n.n(f),v=n(\"ln6h\"),h=n.n(v),b=n(\"dfwq\"),w=n(\"vYYK\"),g=n(\"q1tI\"),N=n.n(g),y=n(\"+wRh\"),S=n(\"bSV5\"),O=n(\"yNYL\"),j=n.n(O),k=N.a.createElement;function A(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(w.a)(e,t,n[t])})):c.a?s()(e,c()(n)):A(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}var I=function(e){var t=Object(g.useRef)(null),n=Object(g.useState)({siteAddress:\"\",protocol:\"\",title:\"\",themeColor:\"\",description:\"\",keywords:[]}),a=n[0],i=n[1];Object(g.useEffect)((function(){console.log(a)}),[a]),Object(g.useEffect)((function(){Object(S.a)(\"identity\").then((function(e){e.data.setting?i(B({},a,{},e.data.setting.data)):i(B({},a,{title:\"website title\",themeColor:\"#000\",description:\"website description\",Keywords:[\"keywords\"]}))}))}),[]);var r=function(e){i(B({},a,Object(w.a)({},e.target.name,e.target.value)))},s=a.keywords.map((function(e){return k(\"div\",{key:e,className:\"item\"},k(\"p\",null,e),k(\"button\",{name:e,onClick:function(e){return function(e){i(B({},a,{keywords:a.keywords.filter((function(t){return t!==e.currentTarget.name}))}))}(e)}},k(j.a,{className:\"fontawesomeMedium\",name:\"times\"})))}));return k(y.a,null,k(\"form\",{id:\"site-settings-form\",onSubmit:function(e){return function(e){e.preventDefault(),Object(S.b)(\"identity\",a)}(e)}},k(\"div\",{className:\"site-settings-form-section\"},k(\"p\",null,\"Site Address (URL)\"),k(\"input\",{name:\"siteAddress\",value:a.siteAddress,onChange:function(e){return r(e)}})),k(\"div\",{className:\"site-settings-form-section\"},k(\"p\",null,\"Protocol\"),k(\"select\",{name:\"protocol\",value:a.protocol,onChange:function(e){return r(e)}},k(\"option\",null,\"Http\"),k(\"option\",null,\"Https\"))),k(\"div\",{className:\"site-settings-form-section\"},k(\"p\",null,\"Site Title\"),k(\"input\",{name:\"title\",value:a.title,onChange:function(e){return r(e)}})),k(\"div\",{className:\"site-settings-form-section\"},k(\"p\",null,\"Description\"),k(\"textarea\",{name:\"description\",value:a.description,onChange:function(e){return r(e)}})),k(\"div\",{className:\"site-settings-form-section keywords\"},k(\"p\",null,\"Keywords\"),k(\"input\",{ref:t,name:\"keywords\"}),k(\"button\",{type:\"button\",onClick:function(){return function(){if(t.current.value.includes(\",\")){var e=t.current.value.split(\",\");i((function(t){return B({},t,{keywords:[].concat(Object(b.a)(t.keywords),Object(b.a)(e))})}))}else i(B({},a,{keywords:[].concat(Object(b.a)(a.keywords),[t.current.value])}));t.current.value=\"\"}()}},\"add\"),k(\"span\",null,\"Separate tags with commas\"),k(\"div\",{className:\"items\"},s)),k(\"div\",{className:\"site-settings-form-section\"},k(\"p\",null,\"Theme Color\"),k(\"input\",{name:\"themeColor\",value:a.themeColor,onChange:function(e){return r(e)}})),k(\"button\",{className:\"submitBtn\",type:\"submit\"},\"save settings\")))};I.getInitialProps=function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pathname,e.query,e.req,e.res,e.err,t.abrupt(\"return\",{name:\"test\"});case 2:case\"end\":return t.stop()}}))},t.default=I},Cg2A:function(e,t,n){e.exports=n(\"6CmU\")},LzdP:function(e,t,n){var a=n(\"Y7ZC\");a(a.S,\"Date\",{now:function(){return(new Date).getTime()}})},SDHI:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/settings/general\",function(){return n(\"9HFx\")}])},bSV5:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return c}));var a=n(\"ln6h\"),i=n.n(a),r=n(\"vDqi\"),s=n.n(r),o=function(e,t){var n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.wt){a.next=5;break}return n={token:localStorage.wt,type:e,data:t},a.next=4,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/update\",n));case 4:return a.abrupt(\"return\",a.sent);case 5:case\"end\":return a.stop()}}))},c=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={type:e},n.next=3,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/get\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))}},dfwq:function(e,t,n){\"use strict\";var a=n(\"p0XB\"),i=n.n(a);var r=n(\"d04V\"),s=n.n(r),o=n(\"yLu3\"),c=n.n(o);function u(e){return function(e){if(i()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(c()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return s()(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}n.d(t,\"a\",(function(){return u}))}},[[\"SDHI\",1,2,0,3,4]]]);"}