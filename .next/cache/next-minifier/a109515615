{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{\"+wRh\":function(e,t,a){\"use strict\";var n=a(\"hfKm\"),o=a.n(n),i=a(\"2Eek\"),s=a.n(i),r=a(\"XoMD\"),c=a.n(r),u=a(\"Jo+v\"),l=a.n(u),m=a(\"4mXO\"),d=a.n(m),f=a(\"pLtp\"),b=a.n(f),h=a(\"vYYK\"),p=a(\"q1tI\"),v=a.n(p),N=a(\"8Kt/\"),g=a.n(N),O=(a(\"00et\"),a(\"A8lN\")),P=a(\"0Bsm\"),w=a.n(P),j=a(\"yNYL\"),B=a.n(j),I=v.a.createElement,k=function(e){return e.active?I(\"div\",{className:\"AdminActionMenu\"},I(\"button\",{className:\"AdminActionMenuItem\"},\" My Profile\"),I(\"button\",{className:\"AdminActionMenuItem\"},\" Edit My Profile\"),I(\"button\",{className:\"AdminActionMenuItem\"},\" Log Out\")):null},C=a(\"YFqc\"),M=a.n(C),A=v.a.createElement,E=function(e){var t=Object(p.useState)({});t[0],t[1];return Object(p.useEffect)((function(){}),[]),e.active?A(\"div\",{className:\"NewItemMenu\"},A(M.a,{href:\"/admin/post?new=1\"},A(\"a\",{className:\"SideBarItem\"},\"New Post\"))):null},y=v.a.createElement;function T(e,t){var a=b()(e);if(d.a){var n=d()(e);t&&(n=n.filter((function(t){return l()(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){Object(h.a)(e,t,a[t])})):c.a?s()(e,c()(a)):T(Object(a)).forEach((function(t){o()(e,t,l()(a,t))}))}return e}var D=w()((function(e){var t=Object(p.useContext)(O.a),a=Object(p.useState)({AdminActionMenu:!1,NewItemMenu:!1}),n=a[0],o=a[1];return y(v.a.Fragment,null,y(\"div\",{className:\"adminTopBar\"},y(\"div\",{className:\"adminTopBarControl\"},y(\"button\",{className:\"adminSideBarMobileBtn adminTopBarItem\",onClick:function(){t.settings.adminPanelSideBar?t.dispatchSettings((function(e){return S({},e,{adminPanelSideBar:!1})})):t.dispatchSettings((function(e){return S({},e,{adminPanelSideBar:!0})}))}},y(B.a,{className:\"fontawesomeMedium\",name:\"bars\"})),y(\"button\",{className:\"adminGoToHomePageBtn adminTopBarItem\",onClick:function(){return e.router.push(\"/\"),void console.log(e.router)}},y(B.a,{className:\"fontawesomeMedium\",name:\"home\"})),y(\"button\",{className:\"adminNewActionBtn adminTopBarItem\",onClick:function(){n.NewItemMenu?o(S({},n,{NewItemMenu:!1})):o(S({},n,{NewItemMenu:!0}))}},y(B.a,{className:\"fontawesomeMedium\",name:\"plus\"})),y(E,{active:n.NewItemMenu})),y(\"button\",{className:\"adminActionBtn adminTopBarItem\",onClick:function(){n.AdminActionMenu?o(S({},n,{AdminActionMenu:!1})):o(S({},n,{AdminActionMenu:!0}))}},y(B.a,{className:\"fontawesomeMedium\",name:\"user\"})),y(k,{active:n.AdminActionMenu})))})),x=a(\"ln6h\"),_=a.n(x),F=a(\"Cg2A\"),R=a.n(F),H=a(\"vDqi\"),X=a.n(H),Y=v.a.createElement,q=function(e){var t=Object(p.useContext)(O.a),a=Object(p.useState)({});a[0],a[1];Object(p.useEffect)((function(){}),[]);return t.settings.adminPanelSideBar?Y(\"div\",{className:\"SideBar\"},Y(\"button\",{onClick:function(){X.a.post(\"http://localhost:4200/server/posts/admin-postsForTest\").then((function(e){e.data.posts.forEach((function(e){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a={title:e.title.en,categories:e.categories,comments:e.comments,actors:e.actors,tags:e.tags,author:\"5e322f0f8b2a0637dc3b6a16\",description:e.description.en,disLikes:0,mainThumbnail:e.imageUrl,videoTrailerUrl:e.imagePreviewUrl,videoEmbedCode:e.iframe,likes:0,duration:e.duration,quality:e.quality,status:\"published\",postType:\"video\",sourceSite:\"Xhamster\",views:0,lastModify:R()()},n.next=3,_.a.awrap(t.functions.savePosts(a));case 3:case\"end\":return n.stop()}}))}))}))}},\"take fake data\"),Y(M.a,{href:\"/admin/posts\"},Y(\"a\",{className:\"SideBarItem\"},\"Posts\")),Y(M.a,{href:\"/admin/media\"},Y(\"a\",{className:\"SideBarItem\"},\"Media\")),Y(M.a,{href:\"/admin/psges\"},Y(\"a\",{className:\"SideBarItem\"},\"Pages\")),Y(M.a,{href:\"/admin/comments\"},Y(\"a\",{className:\"SideBarItem\"},\"Comments\")),Y(M.a,{href:\"/admin/feedback\"},Y(\"a\",{className:\"SideBarItem\"},\"Feedback\")),Y(M.a,{href:\"/admin/design\"},Y(\"a\",{className:\"SideBarItem\"},\"Design\")),Y(M.a,{href:\"/admin/plugins\"},Y(\"a\",{className:\"SideBarItem\"},\"Plugins\")),Y(M.a,{href:\"/admin/users\"},Y(\"a\",{className:\"SideBarItem\"},\"Users\")),Y(M.a,{href:\"/admin/settings\"},Y(\"a\",{className:\"SideBarItem\"},\"Settings\"))):null},L=a(\"nOHt\"),K=a(\"KOc1\"),U=v.a.createElement;function J(e,t){var a=b()(e);if(d.a){var n=d()(e);t&&(n=n.filter((function(t){return l()(e,t).enumerable}))),a.push.apply(a,n)}return a}t.a=Object(L.withRouter)((function(e){var t=Object(p.useContext)(O.a),a=Object(p.useRef)(null),n=Object(p.useRef)(null),i=Object(p.useState)({});i[0],i[1];return Object(p.useEffect)((function(){window.innerWidth>768&&t.dispatchSettings((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Object(h.a)(e,t,a[t])})):c.a?s()(e,c()(a)):J(Object(a)).forEach((function(t){o()(e,t,l()(a,t))}))}return e}({},e,{adminPanelSideBar:!0})}))}),[]),U(v.a.Fragment,null,U(g.a,null,U(\"title\",null,\"Admin Panel\"),U(\"meta\",{name:\"theme-color\",content:\"#000000\"}),U(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),U(\"meta\",{charSet:\"utf-8\"}),U(\"link\",{href:\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\",rel:\"stylesheet\"}),U(\"link\",{rel:\"icon\",href:\"/favicon.ico\"})),U(\"div\",{ref:a,className:\"container\"},U(D,null),U(q,null),U(\"div\",{ref:n,className:\"Admin\"},e.children),U(K.a,null)))}))},\"5o8+\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/posts\",function(){return a(\"XZ0E\")}])},\"6CmU\":function(e,t,a){a(\"LzdP\"),e.exports=a(\"WEpk\").Date.now},Cg2A:function(e,t,a){e.exports=a(\"6CmU\")},LzdP:function(e,t,a){var n=a(\"Y7ZC\");n(n.S,\"Date\",{now:function(){return(new Date).getTime()}})},XZ0E:function(e,t,a){\"use strict\";a.r(t);var n=a(\"q1tI\"),o=a.n(n),i=a(\"+wRh\"),s=a(\"0Bsm\"),r=a.n(s),c=a(\"A8lN\"),u=a(\"hfKm\"),l=a.n(u),m=a(\"2Eek\"),d=a.n(m),f=a(\"XoMD\"),b=a.n(f),h=a(\"Jo+v\"),p=a.n(h),v=a(\"4mXO\"),N=a.n(v),g=a(\"pLtp\"),O=a.n(g),P=a(\"vYYK\"),w=o.a.createElement;function j(e,t){var a=O()(e);if(N.a){var n=N()(e);t&&(n=n.filter((function(t){return p()(e,t).enumerable}))),a.push.apply(a,n)}return a}var B=function(e){var t=Object(n.useContext)(c.a),a=Object(n.useState)({buttons:[\"all\",\"published\",\"draft\",\"trash\"]});a[0],a[1];Object(n.useEffect)((function(){}),[]);var o=function(e){var a=e.target.name;t.dispatchAdminPostsData((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(P.a)(e,t,a[t])})):b.a?d()(e,b()(a)):j(Object(a)).forEach((function(t){l()(e,t,p()(a,t))}))}return e}({},e,{status:a,pageNo:1,author:\"all\"})}))};return w(\"div\",{className:\"FilterStatusBtn\"},w(\"button\",{key:\"all\",className:\"all\",name:\"all\",onClick:function(e){return o(e)}},\"All\"),w(\"button\",{key:\"published\",className:\"published\",name:\"published\",onClick:function(e){return o(e)}},\"Published\"),w(\"button\",{key:\"draft\",className:\"draft\",name:\"draft\",onClick:function(e){return o(e)}},\"Draft\"),w(\"button\",{key:\"trash\",className:\"trash\",name:\"trash\",onClick:function(e){return o(e)}},\"Trash\"))},I=o.a.createElement;function k(e,t){var a=O()(e);if(N.a){var n=N()(e);t&&(n=n.filter((function(t){return p()(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(P.a)(e,t,a[t])})):b.a?d()(e,b()(a)):k(Object(a)).forEach((function(t){l()(e,t,p()(a,t))}))}return e}var M=function(e){var t=Object(n.useRef)(null),a=Object(n.useContext)(c.a),o=Object(n.useState)({keyword:\"\"}),i=o[0],s=o[1];Object(n.useEffect)((function(){}),[]);return I(\"form\",{className:\"FilterSearch\",onSubmit:function(e){return function(e){e.preventDefault(),a.dispatchAdminPostsData((function(e){return C({},e,{keyword:i.keyword,pageNo:1})}))}(e)}},I(\"input\",{ref:t,onChange:function(e){return function(e){s(C({},i,{keyword:e.target.value}))}(e)}}),I((function(){return null}),null),I(\"button\",{className:\"actionBtn\",type:\"submit\"},\"Search Posts\"))},A=o.a.createElement,E=function(e){Object(n.useContext)(c.a);var t=Object(n.useRef)(null),a=Object(n.useRef)(null),o=Object(n.useState)({});o[0],o[1];return A(\"div\",{className:\"FilterDropDownActions\"},A(\"div\",{className:\"bulkAction\"},A(\"select\",{ref:t,placeholder:\"Bulk Actions\"},A(\"option\",{value:\"none\"},\"Bulk Actions\"),A(\"option\",{value:\"Published\"},\"Published\"),A(\"option\",{value:\"Draft\"},\"Draft\"),A(\"option\",{value:\"Trash\"},\"Trash\")),A(\"button\",{className:\"actionBtn\",onClick:function(){}},\"Apply\")),A(\"div\",{className:\"DateCategoryFotmat\"},A(\"select\",{ref:a,onChange:function(e){}},A(\"option\",{value:\"Video\"},\"Video\"),A(\"option\",{value:\"Standard\"},\"Standard\"))),A((function(){return null}),null))},y=(a(\"6BQ9\"),a(\"yNYL\")),T=a.n(y),S=o.a.createElement;function D(e,t){var a=O()(e);if(N.a){var n=N()(e);t&&(n=n.filter((function(t){return p()(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){Object(P.a)(e,t,a[t])})):b.a?d()(e,b()(a)):D(Object(a)).forEach((function(t){l()(e,t,p()(a,t))}))}return e}var _=function(e){var t=Object(n.useContext)(c.a),a=Object(n.useRef)(null);Object(n.useRef)(null);return S(\"div\",{className:\"FilterPagination\"},S(\"div\",{className:\"pagesNavigation\"},S(\"label\",{className:\"totalPosts\"},t.adminPostsData.totalPosts,\" items\"),S(\"button\",{onClick:function(){t.dispatchAdminPostsData(x({},t.adminPostsData,{pageNo:1}))},className:\"actionBtn\"},S(T.a,{className:\"fontawesomeMedium\",name:\"angle-double-left\"})),S(\"button\",{onClick:function(){t.adminPostsData.pageNo-1<=0?t.dispatchAdminPostsData(x({},t.adminPostsData,{pageNo:1})):t.dispatchAdminPostsData(x({},t.adminPostsData,{pageNo:t.adminPostsData.pageNo-1}))},className:\"actionBtn\"},S(T.a,{className:\"fontawesomeMedium\",name:\"angle-left\"})),S(\"input\",{className:\"pageNumberInput\",placeholder:t.adminPostsData.pageNo,ref:a,type:\"number\",min:0}),S(\"button\",{onClick:function(){return function(){var e=t.adminPostsData.pageNo+1;t.dispatchAdminPostsData(x({},t.adminPostsData,{pageNo:e}))}()},className:\"actionBtn\"},S(T.a,{className:\"fontawesomeMedium\",name:\"angle-right\"})),S(\"button\",{onClick:function(){return function(){var e=Math.floor(t.adminPostsData.totalPosts/t.adminPostsData.size);t.dispatchAdminPostsData(x({},t.adminPostsData,{pageNo:e}))}()},className:\"actionBtn\"},S(T.a,{className:\"fontawesomeMedium\",name:\"angle-double-right\"}))),S(\"div\",{className:\"pagesNavigationMoreAction\"}))};_.getInitialProps=function(e){return{ctx:e}};var F=_,R=o.a.createElement,H=function(e){var t=Object(n.useState)({});t[0],t[1];return Object(n.useEffect)((function(){}),[]),R(\"div\",{className:\"Filters\"},R(B,null),R(M,null),R(E,null),R(F,null))},X=o.a.createElement,Y=function(e){Object(n.useContext)(c.a);var t=Object(n.useState)({selectAll:!1});t[0],t[1];return X(\"thead\",{className:\"HeaderTable\"},X(\"tr\",null,X(\"th\",null,X(\"input\",{className:\" HeaderTableItemCheckBox\",type:\"checkbox\",onChange:function(e){}})),X(\"th\",{className:\"HeaderTableItem\"},\"Title\"),X(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Author\"),X(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Categories\"),X(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Post Tag\"),X(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Actors\"),X(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Status\"),X(\"th\",{className:\"HeaderTableItem hiddenOnMobile\"},\"Thumb\")))},q=a(\"YFqc\"),L=a.n(q),K=o.a.createElement;function U(e,t){var a=O()(e);if(N.a){var n=N()(e);t&&(n=n.filter((function(t){return p()(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(Object(a),!0).forEach((function(t){Object(P.a)(e,t,a[t])})):b.a?d()(e,b()(a)):U(Object(a)).forEach((function(t){l()(e,t,p()(a,t))}))}return e}var z=r()((function(e){var t=Object(n.useContext)(c.a),a=Object(n.useRef)(t.adminPosts.map((function(){return Object(n.createRef)()}))),o=Object(n.useState)({hoveredId:\"\",isMobile:!1}),i=o[0],s=o[1];Object(n.useEffect)((function(){window.innerWidth<768&&s(J({},i,{isMobile:!0}))}),[]);var r=function(e){if(e.post._id===i.hoveredId){var a=\"/admin/post?id=\".concat(e.post._id);return\"Trash\"===e.post.status?K(\"div\",{className:\"postControlOptions\"},K(L.a,{to:a},\"Edit\"),K(\"button\",{onClick:function(){e.post._id}},\"Delete Permanently\"),K(\"button\",{onClick:function(){}},\"Move to Draft\")):K(\"div\",{className:\"postControlOptions\"},K(L.a,{href:a},K(\"a\",null,\"Edit\")),K(\"button\",{onClick:function(){return t.dispatchState(J({},t.state,{loading:!0})),void t.functions.bulkActionPost([i.hoveredId],\"trash\")}},\"Trash\"),K(\"button\",null,\"View\"))}return K(\"div\",{className:\"postControlOptions\"})},u=t.adminPosts.map((function(e){e.tags.map((function(e){return K(L.a,{href:\"/\",key:e,className:\"tagPreviewItem\"},\" \",K(\"a\",null,e),\",\")}));var n=e.author;e.author===t.userData._id&&(n=t.userData.username);var o=t.adminPostsData.checkedPosts.includes(e._id);return K(\"tr\",{key:e._id,className:\"BodyTableItems\",onTouchStart:function(){s(J({},i,{hoveredId:e._id}))},onMouseEnter:function(){s(J({},i,{hoveredId:e._id}))}},K(\"td\",{className:\"postColumn\"},K(\"div\",null,K(\"input\",{name:e._id,className:\" BodyTableItemCheckBox\",type:\"checkbox\",ref:function(n){return a.current[t.adminPosts.indexOf(e)]=n},checked:o,onChange:function(e){}})),K(\"div\",null,K(\"p\",{className:\"BodyTableItem\"},e.title),K(r,{post:e})),K(\"div\",null,K(\"p\",{className:\"BodyTableItem author noMobile\"},n)),K(\"div\",{className:\"tagCategoriesActorsPreview BodyTableItem noMobile\"},K(\"span\",null,\"   \",e.categories+\" , \")),K(\"div\",{className:\"tagCategoriesActorsPreview BodyTableItem noMobile\"},K(\"span\",null,\"   \",e.tags+\" , \")),K(\"div\",{className:\"tagCategoriesActorsPreview BodyTableItem noMobile\"},K(\"span\",null,\"      \",e.actors+\" , \")),K(\"div\",null,K(\"p\",{className:\"BodyTableItem noMobile\"},e.status)),K(\"div\",null,K(\"img\",{className:\"BodyTableItem noMobile\",src:e.mainThumbnail}))))}));return K(\"tbody\",{className:\"BodyTable\"},u)})),V=o.a.createElement,W=function(e){return V(\"table\",{className:\"DataTable\"},V(Y,null),V(z,null))},Z=o.a.createElement,G=function(e){return Z(o.a.Fragment,null,Z(i.a,null,Z(\"div\",{className:\"Posts\"},Z(H,null),Z(W,null))))};G.getInitialProps=function(e){e.req;return{}};t.default=r()(G)}},[[\"5o8+\",1,2,0,3,4]]]);"}