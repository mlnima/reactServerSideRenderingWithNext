{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{\"891V\":function(n,t,e){\"use strict\";e.r(t);var a=e(\"hfKm\"),r=e.n(a),o=e(\"2Eek\"),u=e.n(o),i=e(\"XoMD\"),c=e.n(i),s=e(\"Jo+v\"),l=e.n(s),f=e(\"4mXO\"),p=e.n(f),m=e(\"pLtp\"),v=e.n(m),b=e(\"vYYK\"),h=e(\"q1tI\"),g=e.n(h),d=e(\"hItm\"),y=e(\"vDqi\"),O=e.n(y),w=e(\"A8lN\"),j=g.a.createElement;function E(n,t){var e=v()(n);if(p.a){var a=p()(n);t&&(a=a.filter((function(t){return l()(n,t).enumerable}))),e.push.apply(e,a)}return e}function N(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?E(Object(e),!0).forEach((function(t){Object(b.a)(n,t,e[t])})):c.a?u()(n,c()(e)):E(Object(e)).forEach((function(t){r()(n,t,l()(e,t))}))}return n}t.default=function(n){var t=Object(h.useContext)(w.a),e=(Object(h.useRef)(null),Object(h.useState)({})),a=e[0],r=e[1],o=Object(h.useState)({response:void 0,type:void 0}),u=o[0],i=o[1],c=function(n){r(N({},a,Object(b.a)({},n.target.name,n.target.value)))};return j(d.a,null,j(\"div\",{className:\"Login authPage\"},j(\"form\",{className:\"authForm\",onSubmit:function(n){return function(n){n.preventDefault(),O.a.post(\"/api/v1/users/login\",a).then((function(n){\"success\"===n.data.type&&n.data.token&&localStorage.setItem(\"wt\",n.data.token),i(N({},u,{response:n.data.response,type:n.data.type}))})).then((function(){t.functions.getAndSetUserInfo(),t.functions.goToHomePage()})).catch((function(n){return console.log(n)}))}(n)}},j(\"label\",{className:\"messageLabel\"},u.response),j(\"div\",{className:\"authFormItem\"},j(\"p\",null,\"username\"),j(\"input\",{name:\"username\",onChange:function(n){return c(n)}})),j(\"div\",{className:\"authFormItem\"},j(\"p\",null,\"password\"),j(\"input\",{name:\"password\",type:\"password\",onChange:function(n){return c(n)}})),j(\"button\",{className:\"submitBtn\",type:\"submit\"},\"Login\"))))}},WjV5:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/auth/login\",function(){return e(\"891V\")}])},hItm:function(n,t,e){\"use strict\";var a=e(\"q1tI\"),r=e.n(a),o=(e(\"8Kt/\"),e(\"ln6h\")),u=e.n(o);var i=e(\"hfKm\"),c=e.n(i);function s(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),c()(n,a.key,a)}}var l=e(\"XVgq\"),f=e.n(l),p=e(\"Z7t5\"),m=e.n(p);function v(n){return(v=\"function\"===typeof m.a&&\"symbol\"===typeof f.a?function(n){return typeof n}:function(n){return n&&\"function\"===typeof m.a&&n.constructor===m.a&&n!==m.a.prototype?\"symbol\":typeof n})(n)}function b(n){return(b=\"function\"===typeof m.a&&\"symbol\"===v(f.a)?function(n){return v(n)}:function(n){return n&&\"function\"===typeof m.a&&n.constructor===m.a&&n!==m.a.prototype?\"symbol\":v(n)})(n)}function h(n,t){return!t||\"object\"!==b(t)&&\"function\"!==typeof t?function(n){if(void 0===n)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}(n):t}var g=e(\"Bhuq\"),d=e.n(g),y=e(\"TRZx\"),O=e.n(y);function w(n){return(w=O.a?d.a:function(n){return n.__proto__||d()(n)})(n)}var j=e(\"SqZg\"),E=e.n(j);function N(n,t){return(N=O.a||function(n,t){return n.__proto__=t,n})(n,t)}var _=e(\"YFqc\"),k=e.n(_),C=r.a.createElement,L=function(){return C(k.a,{href:\"/\"},C(\"div\",{className:\"Logo\"},C(\"img\",{src:\"/static/images/logo/Logo.png\"})))},T=(e(\"0Bsm\"),r.a.createElement),I=function(n){function t(){return function(n,t){if(!(n instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),h(this,w(t).apply(this,arguments))}var e,a,r;return function(n,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");n.prototype=E()(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&N(n,t)}(t,n),e=t,r=[{key:\"getInitialProps\",value:function(n){var t;return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n.req,t={name:\"nima\"},e.abrupt(\"return\",{data:t});case 3:case\"end\":return e.stop()}}))}}],(a=[{key:\"render\",value:function(){return console.log(this.props),T(\"div\",{className:\"Header\"},T(L,null))}}])&&s(e.prototype,a),r&&s(e,r),t}(a.Component),q=(e(\"00et\"),e(\"A8lN\")),D=e(\"nOHt\"),S=r.a.createElement,x=Object(D.withRouter)((function(n){var t=Object(a.useContext)(q.a);return t.userData.username?\"administrator\"===t.userData.role?S(\"div\",{className:\"TopBar\"},S(\"button\",{onClick:function(){return t.functions.logOutUser()}},\"Log Out\"),S(\"button\",{onClick:function(){return t.functions.goToAdminPanel()}},\"Admin Panel\")):S(\"div\",{className:\"TopBar\"},S(\"button\",{onClick:function(){return t.functions.logOutUser()}},\"Log Out\")):S(\"div\",{className:\"TopBar\"},S(k.a,{href:\"/auth/login\"},S(\"a\",null,\"Login\")),S(\"span\",null,\"Or\"),S(k.a,{href:\"/auth/register\"},S(\"a\",null,\"Register\")))})),B=e(\"2Eek\"),P=e.n(B),X=e(\"XoMD\"),A=e.n(X),F=e(\"Jo+v\"),K=e.n(F),R=e(\"4mXO\"),Y=e.n(R),V=e(\"pLtp\"),J=e.n(V),M=e(\"vYYK\"),H=e(\"yNYL\"),U=e.n(H),W=r.a.createElement;function Z(n,t){var e=J()(n);if(Y.a){var a=Y()(n);t&&(a=a.filter((function(t){return K()(n,t).enumerable}))),e.push.apply(e,a)}return e}function z(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(e),!0).forEach((function(t){Object(M.a)(n,t,e[t])})):A.a?P()(n,A()(e)):Z(Object(e)).forEach((function(t){c()(n,t,K()(e,t))}))}return n}var G=function(n){var t=Object(a.useContext)(q.a),e=Object(a.useRef)(null),o=Object(a.useState)({isOpen:!1,items:[]}),u=o[0],i=o[1];Object(a.useEffect)((function(){window.innerWidth<768?i(z({},u,{isOpen:!1})):i(z({},u,{isOpen:!0}))}),[]),Object(a.useEffect)((function(){e.current&&(u.isOpen?e.current.style.display=\"flex\":e.current.style.display=\"none\")}),[u.isOpen]),Object(a.useEffect)((function(){i((function(n){return z({},n,{items:t.navigationData})}))}),[t.navigationData]);Object(a.useEffect)((function(){console.log(u)}),[u]);var c=u.items.map((function(n){return W(k.a,{href:n.url},W(\"a\",null,n.title))}));return W(r.a.Fragment,null,W(\"button\",{className:\"navigationMobileBtn\",onClick:function(){u.isOpen?i(z({},u,{isOpen:!1})):i(z({},u,{isOpen:!0}))}},W(U.a,{className:\"fontawesomeMedium\",name:u.isOpen?\"times\":\"bars\"})),W(\"div\",{ref:e,className:\"Navigation\"},c))},Q=e(\"KOc1\"),$=r.a.createElement;t.a=function(n){return $(r.a.Fragment,null,$(x,null),$(I,null),$(G,null),$(Q.a,null),$(\"div\",{className:\"App\"},n.children))}}},[[\"WjV5\",1,2,0,3,4]]]);"}