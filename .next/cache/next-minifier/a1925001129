{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{\"97dP\":function(t,e,n){\"use strict\";var a=n(\"q1tI\"),r=n.n(a).a.createElement;e.a=function(t){var e={width:t.value+\"%\"},n=t.percent?t.value+\" %\":\"\";return t.value<1?r(\"div\",{className:\"progressParent\"},r(\"div\",{className:\"progressChild\",style:e})):r(\"div\",{className:\"progressParent\"},r(\"div\",{className:\"progressChild\",style:e},\" \",n))}},RNiq:function(t,e,n){\"use strict\";n.r(e);var a=n(\"ln6h\"),r=n.n(a),i=n(\"6BQ9\"),o=n.n(i),s=n(\"q1tI\"),c=n.n(s),u=n(\"A8lN\"),l=n(\"hItm\"),f=c.a.createElement,p=function(t){return f(\"div\",{className:\"WidgetHeader\"},f(\"p\",{className:\"WidgetHeaderTitle\"},t.title))},v=n(\"YFqc\"),d=n.n(v),m=c.a.createElement,h=function(t){return t.redirectTo&&t.redirectToTitle?m(\"div\",{className:\"WidgetFooter\"},m(d.a,{href:t.redirectTo},m(\"a\",null,t.redirectToTitle))):null},b=c.a.createElement,y=function(t){var e=Object(s.useState)({});e[0],e[1];return Object(s.useEffect)((function(){}),[]),b(\"div\",{className:\"Widget\"},b(p,t),b(t.component,t),b(h,t))},w=n(\"hfKm\"),g=n.n(w),O=n(\"2Eek\"),N=n.n(O),j=n(\"XoMD\"),E=n.n(j),k=n(\"Jo+v\"),T=n.n(k),x=n(\"4mXO\"),P=n.n(x),q=n(\"pLtp\"),D=n.n(q),_=n(\"vYYK\"),C=n(\"0Bsm\"),H=n.n(C),S=n(\"97dP\"),L=n(\"yNYL\"),R=n.n(L),I=c.a.createElement;function Y(t,e){var n=D()(t);if(P.a){var a=P()(t);e&&(a=a.filter((function(e){return T()(t,e).enumerable}))),n.push.apply(n,a)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){Object(_.a)(t,e,n[e])})):E.a?N()(t,E()(n)):Y(Object(n)).forEach((function(e){g()(t,e,T()(n,e))}))}return t}var B=H()((function(t){var e=Object(s.useRef)(null),n=Object(s.useRef)(null),a=Object(s.useRef)(null),r=Object(s.useRef)(null),i=Object(s.useRef)(null),o=Object(s.useContext)(u.a),c=(t.state._id,t.state.title,Object(s.useState)({isHover:!1,isWatched:!1})),l=c[0],f=c[1];Object(s.useEffect)((function(){v()}),[l.isHover]),Object(s.useEffect)((function(){o.state.videoPreviewID!==t.state._id&&f(X({},l,{isHover:!1}))}),[o.state.videoPreviewID]);var p=function(){t.state.videoTrailerUrl&&(o.dispatchState(X({},o.state,{videoPreviewID:t.state._id})),l.isHover?f(X({},l,{isHover:!1})):f(X({},l,{isHover:!0})))},v=function(){t.state.videoTrailerUrl&&(l.isHover?(e.current.style.visibility=\"hidden\",n.current.style.visibility=\"hidden\",a.current.style.visibility=\"hidden\"):(e.current.style.visibility=\"visible\",n.current.style.visibility=\"visible\",a.current.style.visibility=\"visible\"))},m=function(){I(\"i\",{className:\"fas fa-fast-forward\"});return l.isHover?I(\"i\",{className:\"fas fa-stop\"}):I(\"i\",{className:\"fas fa-fast-forward\"})};return I(\"div\",{ref:r,className:\"videoElementDiv\"},I(d.a,{as:\"/\".concat(t.state.title),href:{pathname:\"/post\",query:{postTitle:t.state.title}}},I(\"a\",null,I(\"div\",{className:\"PostElement\",key:t.state.title},I(\"div\",{className:\"image\"},I(\"span\",{ref:e,className:\"quality\"},t.state.quality),l.isHover&&t.state._id===o.state.videoPreviewID&&t.state.videoTrailerUrl?I(\"video\",{ref:i,src:t.state.videoTrailerUrl,autoPlay:!0,loop:!0,onMouseOut:function(t){p()}}):l.isHover?void 0:I(\"img\",{src:t.state.mainThumbnail,alt:t.state.title,onError:function(e){console.log(t.state)},onMouseEnter:function(){return p()}}),I(\"span\",{ref:a,className:\"views\"},I(R.a,{className:\"fontawesomeSmall\",name:\"eye\"}),t.state.views),I(\"span\",{ref:n,className:\"duration\"},t.state.duration)),I(S.a,{value:o.functions.likeValueCalculator(t.state.likes,t.state.disLikes),percent:!0}),I(\"h3\",null,t.state.title)))),I((function(){return t.state.videoTrailerUrl?I(\"button\",{className:\"videoPreviewMobile\",onClick:function(){o.dispatchState(X({},o.state,{videoPreviewID:t.state._id})),l.isHover?f(X({},l,{isHover:!1})):f(X({},l,{isHover:!0}))}},\"   \",I(m,null),\"  \"):null}),null))})),K=(n(\"ttDY\"),n(\"dfwq\"),c.a.createElement,c.a.createElement),M=H()((function(t){Object(s.useContext)(u.a);var e=Object(s.useState)({pageNo:1,size:12,totalPosts:0,postType:\"all\",keyword:\"\",status:\"all\",author:\"all\",fields:[\"title\",\"mainThumbnail\",\"quality\",\"likes\",\"disLikes\",\"views\",\"duration\"],checkedPosts:[]}),n=(e[0],e[1],Object(s.useState)([])),a=(n[0],n[1],t.posts.map((function(t){return K(B,{key:t._id,state:t})})));return K(\"div\",{className:\"Videos\"},K(\"div\",{className:\"videoContent\"},a))})),U=n(\"WP56\"),V=n(\"8Kt/\"),W=n.n(V),A=(n(\"vDqi\"),n(\"bSV5\")),F=c.a.createElement,J=function(t){var e=Object(s.useContext)(u.a),n=Object(s.useState)({title:t.identity.title||\"\",themeColor:t.identity.themeColor||\"\",description:t.identity.description||\"\",keywords:t.identity.keywords||[]}),a=n[0];n[1];return Object(s.useEffect)((function(){t.navigation&&e.dispatchNavigationData(t.navigation.data)}),[t]),F(l.a,null,F(W.a,null,F(\"title\",null,a.title),F(\"meta\",{name:\"theme-color\",content:a.themeColor}),F(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),F(\"meta\",{charSet:\"utf-8\"}),F(\"link\",{href:\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\",rel:\"stylesheet\"}),F(\"meta\",{name:\"description\",content:a.description}),F(\"meta\",{name:\"keywords\",content:a.keywords}),F(\"link\",{rel:\"icon\",href:\"/favicon.ico\"})),F(\"div\",{className:\"HomePage\"},F(\"h1\",null,\"Header 1\"),F(y,{component:M,posts:t.posts,title:\"latest video\",mainLinkUrl:\"/posts/\",redirectToTitle:\"More videos\",pagination:!0,contextData:e})))};J.getInitialProps=function(t){var e,n,a,i,s,c,u,l;return r.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return t.pathname,e=t.query,t.req,t.res,t.err,s={pageNo:e.pageNo?o()(e.pageNo):1,size:30,totalPosts:0,postType:\"all\",keyword:\"\",status:\"published\",author:\"all\",fields:[\"title\",\"mainThumbnail\",\"quality\",\"likes\",\"disLikes\",\"views\",\"duration\"],checkedPosts:[]},f.prev=2,f.next=5,r.a.awrap(Object(U.b)(s));case 5:return c=f.sent,f.next=8,r.a.awrap(Object(A.a)(\"identity\"));case 8:return u=f.sent,f.next=11,r.a.awrap(Object(A.a)(\"navigation\"));case 11:l=f.sent,n=c.data.posts?c.data.posts:[],i=u.data.setting?u.data.setting.data:{},a=l.data.setting?l.data.setting:{},f.next=20;break;case 17:f.prev=17,f.t0=f.catch(2),console.error(f.t0);case 20:return f.abrupt(\"return\",{posts:n,identity:i,navigation:a});case 21:case\"end\":return f.stop()}}),null,null,[[2,17]])};e.default=H()(J)},WP56:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return N})),n.d(e,\"a\",(function(){return j})),n.d(e,\"c\",(function(){return E}));var a=n(\"hfKm\"),r=n.n(a),i=n(\"2Eek\"),o=n.n(i),s=n(\"XoMD\"),c=n.n(s),u=n(\"Jo+v\"),l=n.n(u),f=n(\"4mXO\"),p=n.n(f),v=n(\"pLtp\"),d=n.n(v),m=n(\"ln6h\"),h=n.n(m),b=n(\"vYYK\"),y=n(\"vDqi\"),w=n.n(y);function g(t,e){var n=d()(t);if(p.a){var a=p()(t);e&&(a=a.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,a)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):c.a?o()(t,c()(n)):g(Object(n)).forEach((function(e){r()(t,e,l()(n,e))}))}return t}var N=function(t){var e;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=O({},t),n.next=3,h.a.awrap(w.a.post(\"http://localhost:3000/api/v1/posts\",e));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},j=function(t){var e;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=O({},t),n.next=3,h.a.awrap(w.a.post(\"http://localhost:3000/api/v1/posts/post\",e));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},E=function(t,e){var n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={id:t,type:e},a.next=3,h.a.awrap(w.a.post(\"http://localhost:3000/api/v1/posts/likeDislikeView\",n));case 3:return a.abrupt(\"return\",a.sent);case 4:case\"end\":return a.stop()}}))}},bSV5:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return s})),n.d(e,\"a\",(function(){return c}));var a=n(\"ln6h\"),r=n.n(a),i=n(\"vDqi\"),o=n.n(i),s=function(t,e){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.wt){a.next=5;break}return n={token:localStorage.wt,type:t,data:e},a.next=4,r.a.awrap(o.a.post(\"http://localhost:3000/api/v1/settings/update\",n));case 4:return a.abrupt(\"return\",a.sent);case 5:case\"end\":return a.stop()}}))},c=function(t){var e;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e={type:t},n.next=3,r.a.awrap(o.a.post(\"http://localhost:3000/api/v1/settings/get\",e));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))}},dfwq:function(t,e,n){\"use strict\";var a=n(\"p0XB\"),r=n.n(a);var i=n(\"d04V\"),o=n.n(i),s=n(\"yLu3\"),c=n.n(s);function u(t){return function(t){if(r()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(c()(Object(t))||\"[object Arguments]\"===Object.prototype.toString.call(t))return o()(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}n.d(e,\"a\",(function(){return u}))},hItm:function(t,e,n){\"use strict\";var a=n(\"q1tI\"),r=n.n(a),i=(n(\"8Kt/\"),n(\"ln6h\")),o=n.n(i);var s=n(\"hfKm\"),c=n.n(s);function u(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),c()(t,a.key,a)}}var l=n(\"XVgq\"),f=n.n(l),p=n(\"Z7t5\"),v=n.n(p);function d(t){return(d=\"function\"===typeof v.a&&\"symbol\"===typeof f.a?function(t){return typeof t}:function(t){return t&&\"function\"===typeof v.a&&t.constructor===v.a&&t!==v.a.prototype?\"symbol\":typeof t})(t)}function m(t){return(m=\"function\"===typeof v.a&&\"symbol\"===d(f.a)?function(t){return d(t)}:function(t){return t&&\"function\"===typeof v.a&&t.constructor===v.a&&t!==v.a.prototype?\"symbol\":d(t)})(t)}function h(t,e){return!e||\"object\"!==m(e)&&\"function\"!==typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}var b=n(\"Bhuq\"),y=n.n(b),w=n(\"TRZx\"),g=n.n(w);function O(t){return(O=g.a?y.a:function(t){return t.__proto__||y()(t)})(t)}var N=n(\"SqZg\"),j=n.n(N);function E(t,e){return(E=g.a||function(t,e){return t.__proto__=e,t})(t,e)}var k=n(\"YFqc\"),T=n.n(k),x=r.a.createElement,P=function(){return x(T.a,{href:\"/\"},x(\"div\",{className:\"Logo\"},x(\"img\",{src:\"/static/images/logo/Logo.png\"})))},q=(n(\"0Bsm\"),r.a.createElement),D=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),h(this,O(e).apply(this,arguments))}var n,a,r;return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=j()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,t),n=e,r=[{key:\"getInitialProps\",value:function(t){var e;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.req,e={name:\"nima\"},n.abrupt(\"return\",{data:e});case 3:case\"end\":return n.stop()}}))}}],(a=[{key:\"render\",value:function(){return console.log(this.props),q(\"div\",{className:\"Header\"},q(P,null))}}])&&u(n.prototype,a),r&&u(n,r),e}(a.Component),_=(n(\"00et\"),n(\"A8lN\")),C=n(\"nOHt\"),H=r.a.createElement,S=Object(C.withRouter)((function(t){var e=Object(a.useContext)(_.a);return e.userData.username?\"administrator\"===e.userData.role?H(\"div\",{className:\"TopBar\"},H(\"button\",{onClick:function(){return e.functions.logOutUser()}},\"Log Out\"),H(\"button\",{onClick:function(){return e.functions.goToAdminPanel()}},\"Admin Panel\")):H(\"div\",{className:\"TopBar\"},H(\"button\",{onClick:function(){return e.functions.logOutUser()}},\"Log Out\")):H(\"div\",{className:\"TopBar\"},H(T.a,{href:\"/auth/login\"},H(\"a\",null,\"Login\")),H(\"span\",null,\"Or\"),H(T.a,{href:\"/auth/register\"},H(\"a\",null,\"Register\")))})),L=n(\"2Eek\"),R=n.n(L),I=n(\"XoMD\"),Y=n.n(I),X=n(\"Jo+v\"),B=n.n(X),K=n(\"4mXO\"),M=n.n(K),U=n(\"pLtp\"),V=n.n(U),W=n(\"vYYK\"),A=n(\"yNYL\"),F=n.n(A),J=r.a.createElement;function Z(t,e){var n=V()(t);if(M.a){var a=M()(t);e&&(a=a.filter((function(e){return B()(t,e).enumerable}))),n.push.apply(n,a)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){Object(W.a)(t,e,n[e])})):Y.a?R()(t,Y()(n)):Z(Object(n)).forEach((function(e){c()(t,e,B()(n,e))}))}return t}var Q=function(t){var e=Object(a.useContext)(_.a),n=Object(a.useRef)(null),i=Object(a.useState)({isOpen:!1,items:[]}),o=i[0],s=i[1];Object(a.useEffect)((function(){window.innerWidth<768?s(z({},o,{isOpen:!1})):s(z({},o,{isOpen:!0}))}),[]),Object(a.useEffect)((function(){n.current&&(o.isOpen?n.current.style.display=\"flex\":n.current.style.display=\"none\")}),[o.isOpen]),Object(a.useEffect)((function(){s((function(t){return z({},t,{items:e.navigationData})}))}),[e.navigationData]);Object(a.useEffect)((function(){console.log(o)}),[o]);var c=o.items.map((function(t){return J(T.a,{href:t.url},J(\"a\",null,t.title))}));return J(r.a.Fragment,null,J(\"button\",{className:\"navigationMobileBtn\",onClick:function(){o.isOpen?s(z({},o,{isOpen:!1})):s(z({},o,{isOpen:!0}))}},J(F.a,{className:\"fontawesomeMedium\",name:o.isOpen?\"times\":\"bars\"})),J(\"div\",{ref:n,className:\"Navigation\"},c))},G=n(\"KOc1\"),$=r.a.createElement;e.a=function(t){return $(r.a.Fragment,null,$(S,null),$(D,null),$(Q,null),$(G.a,null),$(\"div\",{className:\"App\"},t.children))}},vlRD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",1,2,0,3,4]]]);"}