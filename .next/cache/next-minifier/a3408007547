{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{\"+wRh\":function(e,t,n){\"use strict\";var a=n(\"hfKm\"),i=n.n(a),r=n(\"2Eek\"),s=n.n(r),o=n(\"XoMD\"),u=n.n(o),c=n(\"Jo+v\"),l=n.n(c),m=n(\"4mXO\"),d=n.n(m),f=n(\"pLtp\"),p=n.n(f),g=n(\"vYYK\"),v=n(\"q1tI\"),h=n.n(v),b=n(\"8Kt/\"),w=n.n(b),N=(n(\"00et\"),n(\"A8lN\")),P=n(\"0Bsm\"),y=n.n(P),S=n(\"yNYL\"),C=n.n(S),O=h.a.createElement,k=function(e){return e.active?O(\"div\",{className:\"AdminActionMenu\"},O(\"button\",{className:\"AdminActionMenuItem\"},\" My Profile\"),O(\"button\",{className:\"AdminActionMenuItem\"},\" Edit My Profile\"),O(\"button\",{className:\"AdminActionMenuItem\"},\" Log Out\")):null},j=n(\"YFqc\"),x=n.n(j),A=h.a.createElement,B=function(e){var t=Object(v.useState)({});t[0],t[1];return Object(v.useEffect)((function(){}),[]),e.active?A(\"div\",{className:\"NewItemMenu\"},A(x.a,{href:\"/admin/post?new=1\"},A(\"a\",{className:\"SideBarItem\"},\"New Post\"))):null},I=h.a.createElement;function M(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):u.a?s()(e,u()(n)):M(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}var T=y()((function(e){var t=Object(v.useContext)(N.a),n=Object(v.useState)({AdminActionMenu:!1,NewItemMenu:!1}),a=n[0],i=n[1];return I(h.a.Fragment,null,I(\"div\",{className:\"adminTopBar\"},I(\"div\",{className:\"adminTopBarControl\"},I(\"button\",{className:\"adminSideBarMobileBtn adminTopBarItem\",onClick:function(){t.settings.adminPanelSideBar?t.dispatchSettings((function(e){return E({},e,{adminPanelSideBar:!1})})):t.dispatchSettings((function(e){return E({},e,{adminPanelSideBar:!0})}))}},I(C.a,{className:\"fontawesomeMedium\",name:\"bars\"})),I(\"button\",{className:\"adminGoToHomePageBtn adminTopBarItem\",onClick:function(){return e.router.push(\"/\"),void console.log(e.router)}},I(C.a,{className:\"fontawesomeMedium\",name:\"home\"})),I(\"button\",{className:\"adminNewActionBtn adminTopBarItem\",onClick:function(){a.NewItemMenu?i(E({},a,{NewItemMenu:!1})):i(E({},a,{NewItemMenu:!0}))}},I(C.a,{className:\"fontawesomeMedium\",name:\"plus\"})),I(B,{active:a.NewItemMenu})),I(\"button\",{className:\"adminActionBtn adminTopBarItem\",onClick:function(){a.AdminActionMenu?i(E({},a,{AdminActionMenu:!1})):i(E({},a,{AdminActionMenu:!0}))}},I(C.a,{className:\"fontawesomeMedium\",name:\"user\"})),I(k,{active:a.AdminActionMenu})))})),H=n(\"ln6h\"),L=n.n(H),D=n(\"Cg2A\"),Y=n.n(D),q=n(\"vDqi\"),W=n.n(q),X=h.a.createElement,F=function(e){var t=Object(v.useContext)(N.a),n=Object(v.useState)({});n[0],n[1];Object(v.useEffect)((function(){}),[]);return t.settings.adminPanelSideBar?X(\"div\",{className:\"SideBar\"},X(\"button\",{onClick:function(){W.a.post(\"http://localhost:4200/server/posts/admin-postsForTest\").then((function(e){e.data.posts.forEach((function(e){var n;return L.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={title:e.title.en,categories:e.categories,comments:e.comments,actors:e.actors,tags:e.tags,author:\"5e322f0f8b2a0637dc3b6a16\",description:e.description.en,disLikes:0,mainThumbnail:e.imageUrl,videoTrailerUrl:e.imagePreviewUrl,videoEmbedCode:e.iframe,likes:0,duration:e.duration,quality:e.quality,status:\"published\",postType:\"video\",sourceSite:\"Xhamster\",views:0,lastModify:Y()()},a.next=3,L.a.awrap(t.functions.savePosts(n));case 3:case\"end\":return a.stop()}}))}))}))}},\"take fake data\"),X(x.a,{href:\"/admin/posts\"},X(\"a\",{className:\"SideBarItem\"},\"Posts\")),X(x.a,{href:\"/admin/media\"},X(\"a\",{className:\"SideBarItem\"},\"Media\")),X(x.a,{href:\"/admin/psges\"},X(\"a\",{className:\"SideBarItem\"},\"Pages\")),X(x.a,{href:\"/admin/comments\"},X(\"a\",{className:\"SideBarItem\"},\"Comments\")),X(x.a,{href:\"/admin/feedback\"},X(\"a\",{className:\"SideBarItem\"},\"Feedback\")),X(x.a,{href:\"/admin/design\"},X(\"a\",{className:\"SideBarItem\"},\"Design\")),X(x.a,{href:\"/admin/plugins\"},X(\"a\",{className:\"SideBarItem\"},\"Plugins\")),X(x.a,{href:\"/admin/users\"},X(\"a\",{className:\"SideBarItem\"},\"Users\")),X(x.a,{href:\"/admin/settings\"},X(\"a\",{className:\"SideBarItem\"},\"Settings\"))):null},K=n(\"nOHt\"),R=n(\"KOc1\"),U=h.a.createElement;function _(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=Object(K.withRouter)((function(e){var t=Object(v.useContext)(N.a),n=Object(v.useRef)(null),a=Object(v.useRef)(null),r=Object(v.useState)({});r[0],r[1];return Object(v.useEffect)((function(){window.innerWidth>768&&t.dispatchSettings((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):u.a?s()(e,u()(n)):_(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}({},e,{adminPanelSideBar:!0})}))}),[]),U(h.a.Fragment,null,U(w.a,null,U(\"title\",null,\"Admin Panel\"),U(\"meta\",{name:\"theme-color\",content:\"#000000\"}),U(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),U(\"meta\",{charSet:\"utf-8\"}),U(\"link\",{href:\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\",rel:\"stylesheet\"}),U(\"link\",{rel:\"icon\",href:\"/favicon.ico\"})),U(\"div\",{ref:n,className:\"container\"},U(T,null),U(F,null),U(\"div\",{ref:a,className:\"Admin\"},e.children),U(R.a,null)))}))},\"6CmU\":function(e,t,n){n(\"LzdP\"),e.exports=n(\"WEpk\").Date.now},\"9HFx\":function(e,t,n){\"use strict\";n.r(t);var a=n(\"hfKm\"),i=n.n(a),r=n(\"2Eek\"),s=n.n(r),o=n(\"XoMD\"),u=n.n(o),c=n(\"Jo+v\"),l=n.n(c),m=n(\"4mXO\"),d=n.n(m),f=n(\"pLtp\"),p=n.n(f),g=n(\"ln6h\"),v=n.n(g),h=n(\"dfwq\"),b=n(\"vYYK\"),w=n(\"q1tI\"),N=n.n(w),P=n(\"+wRh\"),y=n(\"bSV5\"),S=n(\"yNYL\"),C=n.n(S),O=N.a.createElement;function k(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?s()(e,u()(n)):k(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}var x=function(e){var t=Object(w.useRef)(null),n=Object(w.useState)({siteAddress:e.identity.siteAddress||\"\",protocol:e.identity.protocol||\"\",title:e.identity.title||\"website title\",themeColor:e.identity.themeColor||\"#000\",description:e.identity.description||\"website description\",keywords:e.identity.keywords||[],logoText:e.identity.logoText||\"\",headLine:e.identity.headLine||\"\",homePageH1:e.identity.homePageH1||\"\",homePagePagination:e.identity.homePagePagination||!1,postsCountPerPage:e.identity.postsCountPerPage||30,homePageSidebar:e.identity.homePageSidebar||!1,metaPagesSidebar:e.identity.metaPagesSidebar||!1,postPageSidebar:e.identity.postPageSidebar||!1}),a=n[0],i=n[1];Object(w.useEffect)((function(){console.log(e)}),[e]);var r=function(e){var t=\"true\"===e.target.value||\"false\"!==e.target.value&&e.target.value;i(j({},a,Object(b.a)({},e.target.name,t)))},s=a.keywords.map((function(e){return O(\"div\",{key:e,className:\"item\"},O(\"p\",null,e),O(\"button\",{name:e,onClick:function(e){return function(e){i(j({},a,{keywords:a.keywords.filter((function(t){return t!==e.currentTarget.name}))}))}(e)}},O(C.a,{className:\"fontawesomeMedium\",name:\"times\"})))}));return O(P.a,null,O(\"form\",{id:\"site-settings-form\",onSubmit:function(e){return function(e){e.preventDefault(),Object(y.f)(\"identity\",a)}(e)}},O(\"div\",{className:\"forms\"},O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Site Address (URL):\"),O(\"input\",{name:\"siteAddress\",value:a.siteAddress,onChange:function(e){return r(e)}})),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Protocol:\"),O(\"select\",{name:\"protocol\",value:a.protocol,onChange:function(e){return r(e)}},O(\"option\",null,\"Http\"),O(\"option\",null,\"Https\"))),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Logo Text:\"),O(\"input\",{name:\"logoText\",value:a.logoText,onChange:function(e){return r(e)}})),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Head Line:\"),O(\"input\",{name:\"headLine\",value:a.headLine,onChange:function(e){return r(e)}})),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Site Title:\"),O(\"input\",{name:\"title\",value:a.title,onChange:function(e){return r(e)}})),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Description:\"),O(\"textarea\",{name:\"description\",value:a.description,onChange:function(e){return r(e)}})),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Home Page H1:\"),O(\"textarea\",{name:\"homePageH1\",value:a.homePageH1,onChange:function(e){return r(e)}})),O(\"div\",{className:\"site-settings-form-section keywords\"},O(\"p\",null,\"Keywords:\"),O(\"input\",{ref:t,name:\"keywords\"}),O(\"button\",{type:\"button\",onClick:function(){return function(){if(t.current.value.includes(\",\")){var e=t.current.value.split(\",\");i((function(t){return j({},t,{keywords:[].concat(Object(h.a)(t.keywords),Object(h.a)(e))})}))}else i(j({},a,{keywords:[].concat(Object(h.a)(a.keywords),[t.current.value])}));t.current.value=\"\"}()}},\"add\"),O(\"span\",null,\"Separate tags with commas\"),O(\"div\",{className:\"items\"},s)),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Theme Color:\"),O(\"input\",{name:\"themeColor\",value:a.themeColor,onChange:function(e){return r(e)}})),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Posts Per Page:\"),O(\"input\",{type:\"number\",name:\"postsCountPerPage\",value:a.postsCountPerPage,onChange:function(e){return r(e)}})),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Home Page Pagination:\"),O(\"select\",{name:\"homePagePagination\",value:a.homePagePagination,onChange:function(e){return r(e)}},O(\"option\",{value:\"true\"},\"Yes\"),O(\"option\",{value:\"false\"},\"No\"))),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Home Page Sidebar:\"),O(\"select\",{name:\"homePageSidebar\",value:a.homePageSidebar||!1,onChange:function(e){return r(e)}},O(\"option\",{value:\"true\"},\"Yes\"),O(\"option\",{value:\"false\"},\"No\"))),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Meta Pages Sidebar:\"),O(\"select\",{name:\"metaPagesSidebar\",value:a.metaPagesSidebar,onChange:function(e){return r(e)}},O(\"option\",{value:\"true\"},\"Yes\"),O(\"option\",{value:\"false\"},\"No\"))),O(\"div\",{className:\"site-settings-form-section\"},O(\"p\",null,\"Post Page Sidebar:\"),O(\"select\",{name:\"postPageSidebar\",value:a.postPageSidebar,onChange:function(e){return r(e)}},O(\"option\",{value:\"true\"},\"Yes\"),O(\"option\",{value:\"false\"},\"No\")))),O(\"button\",{className:\"submitBtn\",type:\"submit\"},\"save settings\")))};x.getInitialProps=function(e){var t,n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.pathname,e.query,e.req,e.res,e.err,a.next=3,v.a.awrap(Object(y.c)(\"identity\"));case 3:return n=a.sent,t=n.data.setting?n.data.setting.data:{},a.abrupt(\"return\",{name:\"test\",identity:t});case 6:case\"end\":return a.stop()}}))},t.default=x},Cg2A:function(e,t,n){e.exports=n(\"6CmU\")},LzdP:function(e,t,n){var a=n(\"Y7ZC\");a(a.S,\"Date\",{now:function(){return(new Date).getTime()}})},SDHI:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/settings/general\",function(){return n(\"9HFx\")}])},bSV5:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return o})),n.d(t,\"c\",(function(){return u})),n.d(t,\"a\",(function(){return c})),n.d(t,\"d\",(function(){return l})),n.d(t,\"e\",(function(){return m})),n.d(t,\"g\",(function(){return d})),n.d(t,\"b\",(function(){return f}));var a=n(\"ln6h\"),i=n.n(a),r=n(\"vDqi\"),s=n.n(r),o=function(e,t){var n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={token:localStorage.wt,type:e,data:t},a.next=3,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/update\",n));case 3:return a.abrupt(\"return\",a.sent);case 4:case\"end\":return a.stop()}}))},u=function(e,t){var n;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n={type:e},t.next=3,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/get?type=\".concat(e),n));case 3:return t.abrupt(\"return\",t.sent);case 4:case\"end\":return t.stop()}}))},c=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={data:e,token:localStorage.wt},n.next=3,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/addWidget\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},l=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={position:e},n.next=3,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/getWidget\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},m=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={position:e},n.next=3,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/getWidgetsWithData\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},d=function(e,t){var n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={id:e,data:t,token:localStorage.wt},a.next=3,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/updateWidget\",n));case 3:return a.abrupt(\"return\",a.sent);case 4:case\"end\":return a.stop()}}))},f=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={id:e,token:localStorage.wt},n.next=3,i.a.awrap(s.a.post(\"http://localhost:3000/api/v1/settings/deleteWidget\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))}},dfwq:function(e,t,n){\"use strict\";var a=n(\"p0XB\"),i=n.n(a);var r=n(\"d04V\"),s=n.n(r),o=n(\"yLu3\"),u=n.n(o);function c(e){return function(e){if(i()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(u()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return s()(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}n.d(t,\"a\",(function(){return c}))}},[[\"SDHI\",1,2,0,3,4]]]);"}