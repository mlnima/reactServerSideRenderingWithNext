{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{\"+wRh\":function(e,t,n){\"use strict\";var a=n(\"hfKm\"),i=n.n(a),o=n(\"2Eek\"),r=n.n(o),c=n(\"XoMD\"),s=n.n(c),u=n(\"Jo+v\"),l=n.n(u),d=n(\"4mXO\"),m=n.n(d),f=n(\"pLtp\"),p=n.n(f),g=n(\"vYYK\"),v=n(\"q1tI\"),h=n.n(v),b=n(\"8Kt/\"),w=n.n(b),N=(n(\"00et\"),n(\"A8lN\")),S=n(\"0Bsm\"),O=n.n(S),j=n(\"yNYL\"),y=n.n(j),k=h.a.createElement,x=function(e){return e.active?k(\"div\",{className:\"AdminActionMenu\"},k(\"button\",{className:\"AdminActionMenuItem\"},\" My Profile\"),k(\"button\",{className:\"AdminActionMenuItem\"},\" Edit My Profile\"),k(\"button\",{className:\"AdminActionMenuItem\"},\" Log Out\")):null},A=n(\"YFqc\"),C=n.n(A),P=h.a.createElement,T=function(e){var t=Object(v.useState)({});t[0],t[1];return Object(v.useEffect)((function(){}),[]),e.active?P(\"div\",{className:\"NewItemMenu\"},P(C.a,{href:\"/admin/post?new=1\"},P(\"a\",{className:\"SideBarItem\"},\"New Post\"))):null},B=h.a.createElement;function I(e,t){var n=p()(e);if(m.a){var a=m()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):s.a?r()(e,s()(n)):I(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}var M=O()((function(e){var t=Object(v.useContext)(N.a),n=Object(v.useState)({AdminActionMenu:!1,NewItemMenu:!1}),a=n[0],i=n[1];return B(h.a.Fragment,null,B(\"div\",{className:\"adminTopBar\"},B(\"div\",{className:\"adminTopBarControl\"},B(\"button\",{className:\"adminSideBarMobileBtn adminTopBarItem\",onClick:function(){t.settings.adminPanelSideBar?t.dispatchSettings((function(e){return E({},e,{adminPanelSideBar:!1})})):t.dispatchSettings((function(e){return E({},e,{adminPanelSideBar:!0})}))}},B(y.a,{className:\"fontawesomeMedium\",name:\"bars\"})),B(\"button\",{className:\"adminGoToHomePageBtn adminTopBarItem\",onClick:function(){return e.router.push(\"/\"),void console.log(e.router)}},B(y.a,{className:\"fontawesomeMedium\",name:\"home\"})),B(\"button\",{className:\"adminNewActionBtn adminTopBarItem\",onClick:function(){a.NewItemMenu?i(E({},a,{NewItemMenu:!1})):i(E({},a,{NewItemMenu:!0}))}},B(y.a,{className:\"fontawesomeMedium\",name:\"plus\"})),B(T,{active:a.NewItemMenu})),B(\"button\",{className:\"adminActionBtn adminTopBarItem\",onClick:function(){a.AdminActionMenu?i(E({},a,{AdminActionMenu:!1})):i(E({},a,{AdminActionMenu:!0}))}},B(y.a,{className:\"fontawesomeMedium\",name:\"user\"})),B(x,{active:a.AdminActionMenu})))})),W=n(\"ln6h\"),L=n.n(W),H=n(\"Cg2A\"),R=n.n(H),_=n(\"vDqi\"),D=n.n(_),F=h.a.createElement,X=function(e){var t=Object(v.useContext)(N.a),n=Object(v.useState)({});n[0],n[1];Object(v.useEffect)((function(){}),[]);return t.settings.adminPanelSideBar?F(\"div\",{className:\"SideBar\"},F(\"button\",{onClick:function(){D.a.post(\"http://localhost:4200/server/posts/admin-postsForTest\").then((function(e){e.data.posts.forEach((function(e){var n;return L.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={title:e.title.en,categories:e.categories,comments:e.comments,actors:e.actors,tags:e.tags,author:\"5e322f0f8b2a0637dc3b6a16\",description:e.description.en,disLikes:0,mainThumbnail:e.imageUrl,videoTrailerUrl:e.imagePreviewUrl,videoEmbedCode:e.iframe,likes:0,duration:e.duration,quality:e.quality,status:\"published\",postType:\"video\",sourceSite:\"Xhamster\",views:0,lastModify:R()()},a.next=3,L.a.awrap(t.functions.savePosts(n));case 3:case\"end\":return a.stop()}}))}))}))}},\"take fake data\"),F(C.a,{href:\"/admin/posts\"},F(\"a\",{className:\"SideBarItem\"},\"Posts\")),F(C.a,{href:\"/admin/media\"},F(\"a\",{className:\"SideBarItem\"},\"Media\")),F(C.a,{href:\"/admin/psges\"},F(\"a\",{className:\"SideBarItem\"},\"Pages\")),F(C.a,{href:\"/admin/comments\"},F(\"a\",{className:\"SideBarItem\"},\"Comments\")),F(C.a,{href:\"/admin/feedback\"},F(\"a\",{className:\"SideBarItem\"},\"Feedback\")),F(C.a,{href:\"/admin/design\"},F(\"a\",{className:\"SideBarItem\"},\"Design\")),F(C.a,{href:\"/admin/plugins\"},F(\"a\",{className:\"SideBarItem\"},\"Plugins\")),F(C.a,{href:\"/admin/users\"},F(\"a\",{className:\"SideBarItem\"},\"Users\")),F(C.a,{href:\"/admin/settings\"},F(\"a\",{className:\"SideBarItem\"},\"Settings\"))):null},q=n(\"nOHt\"),Y=n(\"KOc1\"),K=h.a.createElement;function U(e,t){var n=p()(e);if(m.a){var a=m()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=Object(q.withRouter)((function(e){var t=Object(v.useContext)(N.a),n=Object(v.useRef)(null),a=Object(v.useRef)(null),o=Object(v.useState)({});o[0],o[1];return Object(v.useEffect)((function(){window.innerWidth>768&&t.dispatchSettings((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):s.a?r()(e,s()(n)):U(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}({},e,{adminPanelSideBar:!0})}))}),[]),K(h.a.Fragment,null,K(w.a,null,K(\"title\",null,\"Admin Panel\"),K(\"meta\",{name:\"theme-color\",content:\"#000000\"}),K(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),K(\"meta\",{charSet:\"utf-8\"}),K(\"link\",{href:\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\",rel:\"stylesheet\"}),K(\"link\",{rel:\"icon\",href:\"/favicon.ico\"})),K(\"div\",{ref:n,className:\"container\"},K(M,null),K(X,null),K(\"div\",{ref:a,className:\"Admin\"},e.children),K(Y.a,null)))}))},\"28WC\":function(e,t,n){\"use strict\";n.r(t);var a=n(\"hfKm\"),i=n.n(a),o=n(\"2Eek\"),r=n.n(o),c=n(\"XoMD\"),s=n.n(c),u=n(\"Jo+v\"),l=n.n(u),d=n(\"4mXO\"),m=n.n(d),f=n(\"pLtp\"),p=n.n(f),g=n(\"dfwq\"),v=n(\"vYYK\"),h=n(\"q1tI\"),b=n.n(h),w=n(\"+wRh\"),N={type:\"\",title:\"\",categories:[],tags:[],count:8,pagination:!1,position:\"\",redirectLink:\"\",sortBy:\"\",text:\"\",textAlign:\"center\",customHtml:\"\"},S=n(\"A8lN\"),O=n(\"bSV5\"),j=b.a.createElement,y=function(e){var t=Object(h.useContext)(S.a),n=Object(h.useState)({});n[0],n[1];Object(h.useEffect)((function(){}),[]);var a=function(e,n){var a=N;a.position=e,a.type=n,Object(O.a)(N).then((function(e){Object(O.d)(\"home\").then((function(e){t.dispatchWidgetsSettings({widgets:Object(g.a)(e.data.widgets)})}))}))};return j(\"div\",{className:\"AddWidgetMenu\"},j(\"button\",{onClick:function(){return a(\"home\",\"text\")}},\"Add Widget To Home\"),j(\"button\",{onClick:function(){return a(\"homePageSidebar\",\"text\")}},\"Add Widget To Home Page Sidebar\"),j(\"button\",{onClick:function(){return a(\"postPageSideBar\",\"text\")}},\"Add Widget To Post Page Sidebar\"),j(\"button\",{onClick:function(){return a(\"footer\",\"text\")}},\"Add Widget To Footer\"))},k=b.a.createElement;function x(e,t){var n=p()(e);if(m.a){var a=m()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):s.a?r()(e,s()(n)):x(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}var C=function(e){var t=Object(h.useContext)(S.a),n=Object(h.useRef)(null),a=Object(h.useRef)(null),i=Object(h.useRef)(null),o=Object(h.useRef)(null),r=(Object(h.useRef)(null),Object(h.useRef)(null),Object(h.useState)({title:e.data.title||\"\",categories:e.data.categories||[],tags:e.data.tags||[],count:e.data.count||6,pagination:e.data.pagination||!1,redirectLink:e.data.redirectLink||\"\",redirectToTitle:e.data.redirectToTitle||\"\",type:e.data.type||\"posts\",position:e.data.position||\"home\",sortBy:e.data.position||\"-id\",text:e.data.text||\"\",textAlign:e.data.text||\"center\",customHtml:e.data.customHtml||\"\"})),c=r[0],s=r[1],u=Object(h.useState)({open:!1}),l=u[0],d=u[1],m=function(){l.open?d(A({},l,{open:!1})):d(A({},l,{open:!0}))},f=function(e){s(A({},c,Object(v.a)({},e.target.name,e.target.value)))},p=c.tags.map((function(e){return k(\"button\",{name:e,onClick:function(e){return function(e){s(A({},c,{tags:c.tags.filter((function(t){return t!==e.target.name}))}))}(e)}},e,\"X\")})),w=c.categories.map((function(e){return k(\"button\",{name:e,onClick:function(e){return function(e){s(A({},c,{categories:c.categories.filter((function(t){return t!==e.target.name}))}))}(e)}},e,\"X\")}));Object(h.useEffect)((function(){setTimeout((function(){[\"count\"].forEach((function(e){[e].current&&([e].current.value=c[e])}))}),2e3)}),[]);return l.open?k(b.a.Fragment,null,k(\"div\",{className:\"widget-open-control\"},k(\"p\",null,e.data.title||e.data._id||e.data.type),k(\"button\",{onClick:function(){return m()}},l.open?\"close\":\"open\")),k(\"div\",{className:\"widgetModel\"},k(\"div\",{className:\"widgetInfo\"},k(\"label\",{className:\"widgetId\"},k(\"p\",null,\"ID :\"),\" \",k(\"p\",null,e.data._id))),k(\"p\",null,\"Title:\"),k(\"input\",{name:\"title\",ref:n,className:\"title\",placeholder:\"Title\",value:c.title,onChange:function(e){return f(e)}}),k(\"p\",null,\"Type:\"),k(\"select\",{name:\"type\",value:c.type,onChange:function(e){return f(e)}},k(\"option\",{value:\"posts\"},\"Posts\"),k(\"option\",{value:\"text\"},\"Text\")),k(\"p\",null,\"Position:\"),k(\"select\",{name:\"position\",value:c.position,onChange:function(e){return f(e)}},k(\"option\",{value:\"home\"},\"Home\"),k(\"option\",{value:\"homePageSidebar\"},\"Home Page Sidebar\"),k(\"option\",{value:\"postPageSideBar\"},\"postPageSideBar\"),k(\"option\",{value:\"footer\"},\"footer\")),k(\"p\",null,\"Text:\"),k(\"textarea\",{name:\"text\",value:c.text,onChange:function(e){return f(e)}}),k(\"p\",null,\"Text Align:\"),k(\"select\",{name:\"textAlign\",value:c.textAlign,onChange:function(e){return f(e)}},k(\"option\",{value:\"left\"},\"Left\"),k(\"option\",{value:\"center\"},\"Center\"),k(\"option\",{value:\"right\"},\"Right\")),k((function(){switch(c.type){case\"posts\":return k(b.a.Fragment,null,k(\"p\",null,\"Sort By:\"),k(\"select\",{name:\"sortBy\",value:c.sortBy,onChange:function(e){return f(e)}},k(\"option\",{value:\"id\"},\"ID\"),k(\"option\",{value:\"views\"},\"Views\"),k(\"option\",{value:\"likes\"},\"Likes\")),k(\"p\",null,\"Categories:\"),k(\"div\",{className:\"inputWithAddBtn\"},k(\"input\",{ref:a,name:\"category\",className:\"category\",placeholder:\"Categories\"}),k(\"button\",{onClick:function(){return s(A({},c,{categories:[].concat(Object(g.a)(c.categories),[a.current.value])})),void(a.current.value=\"\")}},\"add\")),k(\"div\",{className:\"categoriesTags\"},w),k(\"p\",null,\"Tags:\"),k(\"div\",{className:\"inputWithAddBtn\"},k(\"input\",{ref:i,className:\"tags\",name:\"tags\",placeholder:\"Tags\"}),k(\"button\",{onClick:function(){return s(A({},c,{tags:[].concat(Object(g.a)(c.tags),[i.current.value])})),void(i.current.value=\"\")}},\"add\")),k(\"div\",{className:\"categoriesTags\"},p),k(\"p\",null,\"Count:\"),k(\"input\",{ref:o,name:\"count\",type:\"number\",className:\"count\",placeholder:\"count\",value:c.count,onChange:function(e){return f(e)}}),k(\"span\",null,\"Pagination:\"),k(\"select\",{name:\"pagination\",value:c.pagination,onChange:function(e){return f(e)}},k(\"option\",{value:!1},\"false\"),k(\"option\",{value:!0},\"true\")));case\"text\":return k(b.a.Fragment,null);default:return null}}),null),k(\"p\",null,\"Redirect Link:\"),k(\"input\",{className:\"redirectLink\",name:\"redirectLink\",placeholder:\"Redirect\",value:c.redirectLink,onChange:function(e){return f(e)}}),k(\"p\",null,\"Title for Redirect Link\"),k(\"input\",{className:\"redirectToTitle\",name:\"redirectToTitle\",placeholder:\"Title for Redirect Link\",value:c.redirectToTitle,onChange:function(e){return f(e)}}),k(\"div\",{className:\"control\"},k(\"button\",{onClick:function(){Object(O.g)(e.data._id,c).then((function(e){Object(O.d)(\"all\").then((function(e){t.dispatchWidgetsSettings({widgets:Object(g.a)(e.data.widgets)})}))}))}},\"Save\"),k(\"button\",{onClick:function(){Object(O.b)(e.data._id).then((function(){t.dispatchWidgetsSettings({widgets:t.widgetsSettings.widgets.filter((function(t){return t._id!==e.data._id}))})}))}},\"Delete\")))):k(\"div\",{className:\"widget-open-control\"},k(\"p\",null,e.data.title||e.data._id||e.data.type),k(\"button\",{onClick:function(){return m()}},l.open?\"close\":\"open\"))},P=b.a.createElement;function T(e,t){var n=p()(e);if(m.a){var a=m()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}t.default=function(e){var t=Object(h.useContext)(S.a);Object(h.useEffect)((function(){Object(O.d)(\"all\").then((function(e){console.log(e),t.dispatchWidgetsSettings(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):s.a?r()(e,s()(n)):T(Object(n)).forEach((function(t){i()(e,t,l()(n,t))}))}return e}({},t.widgetsSettings,{widgets:Object(g.a)(e.data.widgets)}))}))}),[]);var n=t.widgetsSettings.widgets.map((function(e){if(\"home\"===e.position)return P(C,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),a=t.widgetsSettings.widgets.map((function(e){if(\"homePageSidebar\"===e.position)return P(C,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),o=t.widgetsSettings.widgets.map((function(e){if(\"postPageSideBar\"===e.position)return P(C,{key:t.widgetsSettings.widgets.indexOf(e),data:e})})),c=t.widgetsSettings.widgets.map((function(e){if(\"footer\"===e.position)return P(C,{key:t.widgetsSettings.widgets.indexOf(e),data:e})}));return P(w.a,null,P(\"div\",{id:\"HomePageWidgets\"},P(\"div\",{className:\"sidePanel\"},P(y,null)),P(\"div\",{className:\"widgets\"},P(\"div\",{className:\"widgetAdminPanelItem\"},P(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Homepage\"),n),P(\"div\",{className:\"widgetAdminPanelItem\"},P(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Home Page Sidebar\"),a),P(\"div\",{className:\"widgetAdminPanelItem\"},P(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Post Page\"),o),P(\"div\",{className:\"widgetAdminPanelItem\"},P(\"p\",{className:\"widgetAdminPanelItemHeader\"},\"Footer\"),c))))}},\"6CmU\":function(e,t,n){n(\"LzdP\"),e.exports=n(\"WEpk\").Date.now},\"7yop\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/settings/widgets\",function(){return n(\"28WC\")}])},Cg2A:function(e,t,n){e.exports=n(\"6CmU\")},LzdP:function(e,t,n){var a=n(\"Y7ZC\");a(a.S,\"Date\",{now:function(){return(new Date).getTime()}})},bSV5:function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return c})),n.d(t,\"c\",(function(){return s})),n.d(t,\"a\",(function(){return u})),n.d(t,\"d\",(function(){return l})),n.d(t,\"e\",(function(){return d})),n.d(t,\"g\",(function(){return m})),n.d(t,\"b\",(function(){return f}));var a=n(\"ln6h\"),i=n.n(a),o=n(\"vDqi\"),r=n.n(o),c=function(e,t){var n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={token:localStorage.wt,type:e,data:t},a.next=3,i.a.awrap(r.a.post(\"http://localhost:3000/api/v1/settings/update\",n));case 3:return a.abrupt(\"return\",a.sent);case 4:case\"end\":return a.stop()}}))},s=function(e,t){var n;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n={type:e},t.next=3,i.a.awrap(r.a.post(\"http://localhost:3000/api/v1/settings/get?type=\".concat(e),n));case 3:return t.abrupt(\"return\",t.sent);case 4:case\"end\":return t.stop()}}))},u=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={data:e,token:localStorage.wt},n.next=3,i.a.awrap(r.a.post(\"http://localhost:3000/api/v1/settings/addWidget\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},l=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={position:e},n.next=3,i.a.awrap(r.a.post(\"http://localhost:3000/api/v1/settings/getWidget\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},d=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={position:e},n.next=3,i.a.awrap(r.a.post(\"http://localhost:3000/api/v1/settings/getWidgetsWithData\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))},m=function(e,t){var n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={id:e,data:t,token:localStorage.wt},a.next=3,i.a.awrap(r.a.post(\"http://localhost:3000/api/v1/settings/updateWidget\",n));case 3:return a.abrupt(\"return\",a.sent);case 4:case\"end\":return a.stop()}}))},f=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={id:e,token:localStorage.wt},n.next=3,i.a.awrap(r.a.post(\"http://localhost:3000/api/v1/settings/deleteWidget\",t));case 3:return n.abrupt(\"return\",n.sent);case 4:case\"end\":return n.stop()}}))}},dfwq:function(e,t,n){\"use strict\";var a=n(\"p0XB\"),i=n.n(a);var o=n(\"d04V\"),r=n.n(o),c=n(\"yLu3\"),s=n.n(c);function u(e){return function(e){if(i()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(s()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return r()(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}n.d(t,\"a\",(function(){return u}))}},[[\"7yop\",1,2,0,3,4]]]);"}