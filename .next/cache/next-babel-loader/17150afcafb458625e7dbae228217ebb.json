{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState, useContext, useRef } from 'react';\nimport './AddWidgetWithPositionMenu.scss';\nimport { widgetModels } from './models';\nimport { addNewWidget, getWidgets } from '../../../../_variables/ajaxVariables';\nimport { AppContext } from '../../../../context/AppContext';\n\nvar AddWidgetWithPositionMenu = function AddWidgetWithPositionMenu(props) {\n  var contextData = useContext(AppContext);\n\n  var _useState = useState({\n    open: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  useEffect(function () {}, []);\n\n  var onOpenHandler = function onOpenHandler() {\n    state.open ? setState(_objectSpread({}, state, {\n      open: false\n    })) : setState(_objectSpread({}, state, {\n      open: true\n    }));\n  };\n\n  var onAddNewWidget = function onAddNewWidget(position, type) {\n    var dataToSave = widgetModels;\n    dataToSave.position = position;\n    dataToSave.type = type;\n    addNewWidget(widgetModels, contextData.absolutePath).then(function (res) {\n      getWidgets('home', window.location.origin).then(function (res) {\n        contextData.dispatchWidgetsSettings({\n          widgets: _toConsumableArray(res.data.widgets)\n        });\n      });\n    });\n  };\n\n  if (state.open) {\n    return __jsx(\"div\", {\n      className: \"AddWidgetWithPositionMenu\"\n    }, __jsx(\"button\", {\n      className: \"positionsOpener\",\n      onClick: function onClick() {\n        return onOpenHandler();\n      }\n    }, props.name), __jsx(\"div\", {\n      className: \"AddWidgetWithPositionMenuPositions\"\n    }, __jsx(\"button\", {\n      className: \"AddWidgetWithPositionMenuPositionsBtn\",\n      onClick: function onClick() {\n        return onAddNewWidget('home', props.type);\n      }\n    }, \"Home Page\"), __jsx(\"button\", {\n      className: \"AddWidgetWithPositionMenuPositionsBtn\",\n      onClick: function onClick() {\n        return onAddNewWidget('homePageSidebar', props.type);\n      }\n    }, \"Home Page Sidebar\"), __jsx(\"button\", {\n      className: \"AddWidgetWithPositionMenuPositionsBtn\",\n      onClick: function onClick() {\n        return onAddNewWidget('postPageSidebar', props.type);\n      }\n    }, \"Post Page Sidebar\"), __jsx(\"button\", {\n      className: \"AddWidgetWithPositionMenuPositionsBtn\",\n      onClick: function onClick() {\n        return onAddNewWidget('postsPageSidebar', props.type);\n      }\n    }, \"Posts Page Sidebar\"), __jsx(\"button\", {\n      className: \"AddWidgetWithPositionMenuPositionsBtn\",\n      onClick: function onClick() {\n        return onAddNewWidget('tagsPageSidebar', props.type);\n      }\n    }, \"Tags Page Sidebar\"), __jsx(\"button\", {\n      className: \"AddWidgetWithPositionMenuPositionsBtn\",\n      onClick: function onClick() {\n        return onAddNewWidget('categoriesPageSidebar', props.type);\n      }\n    }, \"Categories Page Sidebar\"), __jsx(\"button\", {\n      className: \"AddWidgetWithPositionMenuPositionsBtn\",\n      onClick: function onClick() {\n        return onAddNewWidget('actorsPageSidebar', props.type);\n      }\n    }, \"Actors Page Sidebar\"), __jsx(\"button\", {\n      className: \"AddWidgetWithPositionMenuPositionsBtn\",\n      onClick: function onClick() {\n        return onAddNewWidget('footer', props.type);\n      }\n    }, \"Footer\")));\n  } else {\n    return __jsx(\"div\", {\n      className: \"AddWidgetWithPositionMenu\"\n    }, __jsx(\"button\", {\n      className: \"positionsOpener\",\n      onClick: function onClick() {\n        return onOpenHandler();\n      }\n    }, props.name));\n  }\n};\n\nexport default AddWidgetWithPositionMenu;","map":{"version":3,"sources":["G:/Dev Project/reactServerSideRenderingWithNext/components/adminIncludes/widgetsModel/AddWidgetMenu/AddWidgetWithPositionMenu.js"],"names":["React","useEffect","useState","useContext","useRef","widgetModels","addNewWidget","getWidgets","AppContext","AddWidgetWithPositionMenu","props","contextData","open","state","setState","onOpenHandler","onAddNewWidget","position","type","dataToSave","absolutePath","then","res","window","location","origin","dispatchWidgetsSettings","widgets","data","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\r\nimport './AddWidgetWithPositionMenu.scss'\r\nimport { widgetModels } from './models'\r\nimport { addNewWidget, getWidgets } from '../../../../_variables/ajaxVariables'\r\nimport { AppContext } from '../../../../context/AppContext'\r\n\r\nconst AddWidgetWithPositionMenu = props => {\r\n    const contextData = useContext(AppContext);\r\n    const [ state, setState ] = useState({\r\n        open:false\r\n    });\r\n    useEffect(() => {\r\n    }, []);\r\n\r\n    const onOpenHandler =()=>{\r\n        state.open?setState({\r\n            ...state,\r\n            open: false\r\n        }):setState({\r\n            ...state,\r\n            open: true\r\n        })\r\n    }\r\n\r\n    const onAddNewWidget = (position, type) => {\r\n        let dataToSave = widgetModels;\r\n        dataToSave.position = position\r\n        dataToSave.type = type\r\n        addNewWidget(widgetModels,contextData.absolutePath).then(res => {\r\n            getWidgets('home',window.location.origin).then(res => {\r\n                contextData.dispatchWidgetsSettings({\r\n                    widgets: [ ...res.data.widgets ]\r\n                })\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n\r\n    if (state.open){\r\n        return (\r\n            <div className='AddWidgetWithPositionMenu'>\r\n                <button className='positionsOpener' onClick={()=>onOpenHandler()}>{props.name}</button>\r\n                <div className=\"AddWidgetWithPositionMenuPositions\">\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('home', props.type) }>Home Page</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('homePageSidebar', props.type) }>Home Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('postPageSidebar', props.type) }>Post Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('postsPageSidebar', props.type) }>Posts Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('tagsPageSidebar', props.type) }>Tags Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('categoriesPageSidebar', props.type) }>Categories Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('actorsPageSidebar', props.type) }>Actors Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('footer', props.type) }>Footer</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }else {\r\n        return (\r\n            <div className='AddWidgetWithPositionMenu'>\r\n                <button className='positionsOpener' onClick={()=>onOpenHandler()}>{props.name}</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n};\r\nexport default AddWidgetWithPositionMenu;\r\n"]},"metadata":{},"sourceType":"module"}