{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState, useContext, useRef } from 'react';\nimport { AppContext } from \"../../../../../../context/AppContext\";\nimport { getPosts, postsBulkAction, emptyTrash } from \"../../../../../variables/_ajaxPostsVariable\";\n\nvar FilterDropDownActions = function FilterDropDownActions(props) {\n  var bulkAction = useRef(null);\n  var typeToDisplay = useRef(null);\n  var contextData = useContext(AppContext);\n\n  var _useState = useState({}),\n      state = _useState[0],\n      setState = _useState[1];\n\n  useEffect(function () {\n    typeToDisplay.current.value = contextData.postsData.type;\n  }, []); // useEffect(()=>{\n  //     console.log( contextData.postsData.checkedPosts)\n  // },[ contextData.postsData.checkedPosts]);\n  //\n  // const setData = ()=>{\n  //     getPosts(\n  //         contextData.postsData.type, contextData.postsData.size, contextData.postsData.pageNo,\n  //         ['author', 'title', 'imageUrl', 'status', 'actors', 'tags', 'categories'], contextData.postsData.status,\n  //         contextData.postsData.author, contextData.postsData.keyword).then(res => {\n  //         contextData.setPostsData({\n  //             ...contextData.postsData,\n  //             posts: res.data.posts,\n  //             error: res.data.error,\n  //             totalCount: res.data.totalCount\n  //         });\n  //         contextData.setState({\n  //             ...contextData.state,\n  //             loading: false\n  //         });\n  //     }).catch(() => {\n  //         contextData.setState({\n  //             ...contextData.state,\n  //             login: false\n  //         })\n  //     })\n  // }\n\n  var onFormatChangeHandler = function onFormatChangeHandler() {\n    if (bulkAction.current.value !== 'none') {\n      contextData.setState(_objectSpread({}, contextData.state, {\n        loading: true\n      }));\n      postsBulkAction(contextData.postsData.checkedPosts, bulkAction.current.value).then(function () {\n        setData();\n      })[\"catch\"](function (err) {\n        contextData.setState(_objectSpread({}, contextData.state, {\n          loading: false\n        }));\n      }); // contextData.setPostsData({\n      //     ...contextData.postsData,\n      //     statusActionForCheckedPosts: bulkAction.current.value\n      // })\n    }\n  }; // if (contextData.postsData.statusActionForCheckedPosts !== 'none'){\n  //     updateManyPostStatus(contextData.postsData.checkedPosts,contextData.postsData.statusActionForCheckedPosts)\n  // }\n\n\n  var onFormatChangeSubmitHandler = function onFormatChangeSubmitHandler() {};\n\n  var changePostsTypeToDisplay = function changePostsTypeToDisplay(e) {\n    if (e.target.value !== 'none') {\n      contextData.setPostsData(_objectSpread({}, contextData.postsData, {\n        type: e.target.value\n      }));\n    }\n  };\n\n  var onEmptyTrashHandler = function onEmptyTrashHandler() {\n    emptyTrash().then(function (res) {\n      if (res.data.error) {\n        contextData.setState(_objectSpread({}, contextData.state, {\n          report: res.data.message,\n          reportColor: 'red'\n        }));\n      } else {\n        contextData.setState(_objectSpread({}, contextData.state, {\n          loading: false\n        }));\n        setData();\n        contextData.setState(_objectSpread({}, contextData.state, {\n          report: res.data.message,\n          reportColor: 'green'\n        }));\n      }\n    })[\"catch\"](function () {\n      contextData.setState(_objectSpread({}, contextData.state, {\n        report: 'Can Not Communicate With Server'\n      }));\n    });\n  };\n\n  var EmptyTrash = function EmptyTrash() {\n    if (contextData.postsData.status === 'Trash') {\n      return __jsx(\"button\", {\n        onClick: function onClick() {\n          return onEmptyTrashHandler();\n        }\n      }, \"Empty Trash\");\n    } else return null;\n  };\n\n  return __jsx(\"div\", {\n    className: \"FilterDropDownActions\"\n  }, __jsx(\"div\", {\n    className: \"bulkAction\"\n  }, __jsx(\"select\", {\n    ref: bulkAction,\n    placeholder: \"Bulk Actions\"\n  }, __jsx(\"option\", {\n    value: \"none\"\n  }, \"Bulk Actions\"), __jsx(\"option\", {\n    value: \"Published\"\n  }, \"Published\"), __jsx(\"option\", {\n    value: \"Draft\"\n  }, \"Draft\"), __jsx(\"option\", {\n    value: \"Trash\"\n  }, \"Trash\")), __jsx(\"button\", {\n    className: \"actionBtn\",\n    onClick: function onClick() {\n      return onFormatChangeHandler();\n    }\n  }, \"Apply\")), __jsx(\"div\", {\n    className: \"DateCategoryFotmat\"\n  }, __jsx(\"select\", {\n    ref: typeToDisplay,\n    onChange: function onChange(e) {\n      return changePostsTypeToDisplay(e);\n    }\n  }, __jsx(\"option\", {\n    value: \"Video\"\n  }, \"Video\"), __jsx(\"option\", {\n    value: \"Standard\"\n  }, \"Standard\"))), __jsx(EmptyTrash, null));\n};\n\nexport default FilterDropDownActions;","map":{"version":3,"sources":["G:/Dev Project/reactServerSideRenderingWithNext/components/adminIncludes/PostsComponents/Filters/FilterDropDownActions.js"],"names":["React","useEffect","useState","useContext","useRef","AppContext","getPosts","postsBulkAction","emptyTrash","FilterDropDownActions","props","bulkAction","typeToDisplay","contextData","state","setState","current","value","postsData","type","onFormatChangeHandler","loading","checkedPosts","then","setData","err","onFormatChangeSubmitHandler","changePostsTypeToDisplay","e","target","setPostsData","onEmptyTrashHandler","res","data","error","report","message","reportColor","EmptyTrash","status"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useContext, useRef} from 'react';\r\nimport {AppContext} from \"../../../../../../context/AppContext\";\r\nimport {getPosts, postsBulkAction,emptyTrash} from \"../../../../../variables/_ajaxPostsVariable\";\r\n\r\nconst FilterDropDownActions = props => {\r\n    const bulkAction = useRef(null);\r\n    const typeToDisplay = useRef(null);\r\n    let contextData = useContext(AppContext);\r\n    const [state, setState] = useState({});\r\n    useEffect(() => {\r\n        typeToDisplay.current.value = contextData.postsData.type\r\n    }, []);\r\n\r\n    // useEffect(()=>{\r\n    //     console.log( contextData.postsData.checkedPosts)\r\n    // },[ contextData.postsData.checkedPosts]);\r\n    //\r\n    // const setData = ()=>{\r\n    //     getPosts(\r\n    //         contextData.postsData.type, contextData.postsData.size, contextData.postsData.pageNo,\r\n    //         ['author', 'title', 'imageUrl', 'status', 'actors', 'tags', 'categories'], contextData.postsData.status,\r\n    //         contextData.postsData.author, contextData.postsData.keyword).then(res => {\r\n    //         contextData.setPostsData({\r\n    //             ...contextData.postsData,\r\n    //             posts: res.data.posts,\r\n    //             error: res.data.error,\r\n    //             totalCount: res.data.totalCount\r\n    //         });\r\n    //         contextData.setState({\r\n    //             ...contextData.state,\r\n    //             loading: false\r\n    //         });\r\n    //     }).catch(() => {\r\n    //         contextData.setState({\r\n    //             ...contextData.state,\r\n    //             login: false\r\n    //         })\r\n    //     })\r\n    // }\r\n    const onFormatChangeHandler = () => {\r\n        if (bulkAction.current.value !== 'none') {\r\n            contextData.setState({\r\n                ...contextData.state,\r\n                loading:true\r\n            });\r\n            postsBulkAction(contextData.postsData.checkedPosts,bulkAction.current.value).then(()=>{\r\n               setData()\r\n            }).catch(err=>{\r\n                contextData.setState({\r\n                    ...contextData.state,\r\n                    loading:false\r\n                })\r\n            })\r\n\r\n            // contextData.setPostsData({\r\n            //     ...contextData.postsData,\r\n            //     statusActionForCheckedPosts: bulkAction.current.value\r\n            // })\r\n        }\r\n    };\r\n    // if (contextData.postsData.statusActionForCheckedPosts !== 'none'){\r\n    //     updateManyPostStatus(contextData.postsData.checkedPosts,contextData.postsData.statusActionForCheckedPosts)\r\n    // }\r\n\r\n    const onFormatChangeSubmitHandler=()=>{\r\n\r\n    }\r\n\r\n    const changePostsTypeToDisplay = e=>{\r\n        if (e.target.value !== 'none') {\r\n            contextData.setPostsData({\r\n                ...contextData.postsData,\r\n                type: e.target.value\r\n            })\r\n        }\r\n    };\r\n\r\n\r\n    const onEmptyTrashHandler = ()=>{\r\n        emptyTrash().then(res=>{\r\n            if (res.data.error){\r\n                contextData.setState({\r\n                    ...contextData.state,\r\n                    report:res.data.message,\r\n                    reportColor:'red'\r\n                })\r\n            }else {\r\n                contextData.setState({\r\n                    ...contextData.state,\r\n                    loading: false\r\n                });\r\n                setData();\r\n                contextData.setState({\r\n                    ...contextData.state,\r\n                    report:res.data.message,\r\n                    reportColor:'green'\r\n                })\r\n            }\r\n        }).catch(()=>{\r\n            contextData.setState({\r\n                ...contextData.state,\r\n                report:'Can Not Communicate With Server'\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    const EmptyTrash =()=>{\r\n        if (contextData.postsData.status === 'Trash'){\r\n            return (\r\n                <button onClick={()=>onEmptyTrashHandler()}>Empty Trash</button>\r\n            )\r\n        }else return null\r\n    };\r\n\r\n    return (\r\n        <div className='FilterDropDownActions'>\r\n            <div className=\"bulkAction\">\r\n                <select ref={bulkAction} placeholder='Bulk Actions' >\r\n                    <option value='none'>Bulk Actions</option>\r\n                    <option value='Published'>Published</option>\r\n                    <option value='Draft'>Draft</option>\r\n                    <option value='Trash'>Trash</option>\r\n                </select>\r\n                <button className='actionBtn' onClick={() => onFormatChangeHandler()}>Apply</button>\r\n            </div>\r\n            <div className=\"DateCategoryFotmat\">\r\n                {/*<select>*/}\r\n                {/*    <option>All dates</option>*/}\r\n                {/*</select>*/}\r\n                {/*<select>*/}\r\n                {/*    <option>All Posts Categories</option>*/}\r\n                {/*</select>*/}\r\n                <select ref={typeToDisplay} onChange={e => changePostsTypeToDisplay(e)}>\r\n                    {/*<option value='none'>All formats</option>*/}\r\n                    <option value='Video'>Video</option>\r\n                    <option value='Standard'>Standard</option>\r\n                </select>\r\n            </div>\r\n            <EmptyTrash/>\r\n        </div>\r\n    );\r\n};\r\nexport default FilterDropDownActions;"]},"metadata":{},"sourceType":"module"}