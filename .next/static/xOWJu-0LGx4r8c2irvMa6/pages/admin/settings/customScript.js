(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"2j17":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings/customScript",function(){return n("V2YC")}])},"9HFx":function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),i=n.n(a),s=n("KQm4"),o=n("rePB"),r=n("q1tI"),c=n.n(r),u=n("+wRh"),l=n("bSV5"),m=n("yNYL"),d=n.n(m),p=n("A8lN"),g=n("U+0P"),f=c.a.createElement;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=Object(r.useContext)(p.a),n=Object(r.useRef)(null),a=Object(r.useState)({title:e.identity.title||"website title",themeColor:e.identity.themeColor||"#000",description:e.identity.description||"website description",keywords:e.identity.keywords||[],imageLogo:e.identity.imageLogo||!1,imageLogoUrl:e.identity.imageLogo||"/static/images/logo/Logo.png",logoText:e.identity.logoText||"",headLine:e.identity.headLine||"",homePageH1:e.identity.homePageH1||"",homePagePagination:e.identity.homePagePagination||!1,postsCountPerPage:e.identity.postsCountPerPage||30,homePageSidebar:e.identity.homePageSidebar||!1,categoriesPageSidebar:e.identity.categoriesPageSidebar||!1,tagsPageSidebar:e.identity.tagsPageSidebar||!1,actorsPageSidebar:e.identity.actorsPageSidebar||!1,postPageSidebar:e.identity.postPageSidebar||!1,postsPageSidebar:e.identity.postsPageSidebar||!1}),i=a[0],c=a[1],l=function(e){var t="true"===e.target.value||"false"!==e.target.value&&e.target.value;c(y({},i,Object(o.a)({},e.target.name,t)))},m=i.keywords.map((function(e){return f("div",{key:e,className:"item"},f("p",null,e),f("button",{name:e,onClick:function(e){return function(e){c(y({},i,{keywords:i.keywords.filter((function(t){return t!==e.currentTarget.name}))}))}(e)}},f(d.a,{className:"fontawesomeMedium",name:"times"})))}));return f(u.a,null,f("form",{id:"site-settings-form",onSubmit:function(n){return function(n){n.preventDefault(),t.dispatchState(y({},t.state,{loading:!0})),t.functions.updateSetting("identity",i,e.domainName).then((function(){t.dispatchState(y({},t.state,{loading:!1}))}))}(n)}},f("div",{className:"forms"},f("h2",null,"site identity"),f("div",{className:"siteIdentity site-settings-form-section-parent"},f("div",{className:"site-settings-form-section"},f("p",null,"Logo Text:"),f("input",{name:"logoText",value:i.logoText,onChange:function(e){return l(e)}})),f("div",{className:"site-settings-form-section"},f("p",null,"Image Logo:"),f("select",{defaultValue:i.imageLogo,name:"imageLogo",onChange:function(e){return l(e)}},f("option",{value:"true"},"Yes"),f("option",{value:"false"},"No")),f("input",{name:"imageLogoUrl",value:i.imageLogoUrl,onChange:function(e){return l(e)}})),f("div",{className:"site-settings-form-section"},f("p",null,"Head Line:"),f("input",{name:"headLine",value:i.headLine,onChange:function(e){return l(e)}})),f("div",{className:"site-settings-form-section"},f("p",null,"Site Title:"),f("input",{name:"title",value:i.title,onChange:function(e){return l(e)}})),f("div",{className:"site-settings-form-section"},f("p",null,"Description:"),f("textarea",{name:"description",value:i.description,onChange:function(e){return l(e)}})),f("div",{className:"site-settings-form-section"},f("p",null,"Home Page H1:"),f("textarea",{name:"homePageH1",value:i.homePageH1,onChange:function(e){return l(e)}})),f("div",{className:"site-settings-form-section keywords"},f("p",null,"Keywords:"),f("input",{ref:n,name:"keywords"}),f("button",{type:"button",onClick:function(){return function(){if(n.current.value.includes(",")){var e=n.current.value.split(",");c((function(t){return y({},t,{keywords:[].concat(Object(s.a)(t.keywords),Object(s.a)(e))})}))}else c(y({},i,{keywords:[].concat(Object(s.a)(i.keywords),[n.current.value])}));n.current.value=""}()}},"add"),f("span",null,"Separate tags with commas"),f("div",{className:"items"},m))),f("div",{className:"site-settings-form-section"},f("p",null,"Theme Color:"),f("input",{name:"themeColor",value:i.themeColor,onChange:function(e){return l(e)}})),f("div",{className:"site-settings-form-section"},f("p",null,"Posts Per Page:"),f("input",{type:"number",name:"postsCountPerPage",value:i.postsCountPerPage,onChange:function(e){return l(e)}})),f("div",{className:"site-settings-form-section"},f("p",null,"Home Page Pagination:"),f("select",{name:"homePagePagination",value:i.homePagePagination,onChange:function(e){return l(e)}},f("option",{value:"true"},"Yes"),f("option",{value:"false"},"No"))),f("h2",null,"Sidebars Status"),f("div",{className:"sidebarsStatus site-settings-form-section-parent"},f("div",{className:"site-settings-form-section"},f("p",null,"Home Page Sidebar:"),f("select",{name:"homePageSidebar",value:i.homePageSidebar||!1,onChange:function(e){return l(e)}},f("option",{value:"true"},"Yes"),f("option",{value:"false"},"No"))),f("div",{className:"site-settings-form-section"},f("p",null,"Categories Pages Sidebar:"),f("select",{name:"categoriesPageSidebar",value:i.categoriesPageSidebar,onChange:function(e){return l(e)}},f("option",{value:"true"},"Yes"),f("option",{value:"false"},"No"))),f("div",{className:"site-settings-form-section"},f("p",null,"Tags Pages Sidebar:"),f("select",{name:"tagsPageSidebar",value:i.tagsPageSidebar,onChange:function(e){return l(e)}},f("option",{value:"true"},"Yes"),f("option",{value:"false"},"No"))),f("div",{className:"site-settings-form-section"},f("p",null,"Actors Pages Sidebar:"),f("select",{name:"actorsPageSidebar",value:i.actorsPageSidebar,onChange:function(e){return l(e)}},f("option",{value:"true"},"Yes"),f("option",{value:"false"},"No"))),f("div",{className:"site-settings-form-section"},f("p",null,"Post Page Sidebar:"),f("select",{name:"postPageSidebar",value:i.postPageSidebar,onChange:function(e){return l(e)}},f("option",{value:"true"},"Yes"),f("option",{value:"false"},"No"))),f("div",{className:"site-settings-form-section"},f("p",null,"Posts Page Sidebar:"),f("select",{name:"postsPageSidebar",value:i.postsPageSidebar,onChange:function(e){return l(e)}},f("option",{value:"true"},"Yes"),f("option",{value:"false"},"No"))))),f("button",{className:"submitBtn",type:"submit"},"save settings")))};v.getInitialProps=function(e){var t,n,a,s;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.pathname,e.query,t=e.req,e.res,e.err,!t){o.next=7;break}return o.next=4,i.a.awrap(Object(g.d)(t));case 4:o.t0=o.sent,o.next=8;break;case 7:o.t0="";case 8:return n=o.t0,o.next=11,i.a.awrap(Object(l.g)("identity",!1,n));case 11:return s=o.sent,a=s.data.setting?s.data.setting.data:{},o.abrupt("return",{domainName:n,identity:a});case 14:case"end":return o.stop()}}))},t.default=v},V2YC:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),i=n.n(a),s=n("KQm4"),o=n("rePB"),r=n("q1tI"),c=n.n(r),u=n("+wRh"),l=n("YNvU"),m=(n("cmu+"),n("A8lN")),d=(n("U+0P"),n("bSV5"),n("9HFx"),c.a.createElement);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=Object(r.useContext)(m.a),n=Object(r.useState)({scriptName:"",scriptBody:""}),a=n[0],c=n[1],p=Object(r.useState)([]),f=p[0],b=p[1];Object(r.useEffect)((function(){b((t.siteIdentity.customScripts||[]).map((function(e){return e.scriptName})))}),[t.siteIdentity.customScripts]);var y=function(e){c(g({},a,Object(o.a)({},e.target.name,e.target.value)))},v=(t.siteIdentity.customScripts||[]).map((function(e){var n=function(n){t.dispatchState(g({},t.state,{loading:!0}));var a=t.siteIdentity.customScripts.findIndex((function(t){return t.scriptName===e.scriptName})),i=g({},t.siteIdentity.customScripts[a],Object(o.a)({},n.target.name,n.target.value));setTimeout((function(){var e=[].concat(Object(s.a)(t.siteIdentity.customScripts.slice(0,a)),[i],Object(s.a)(t.siteIdentity.customScripts.slice(a+1)));t.dispatchSiteIdentity(g({},t.siteIdentity,{customScripts:e})),t.dispatchState(g({},t.state,{loading:!1}))}),500)};return d("div",{key:e.scriptName,className:"customScriptPageItem"},d("div",{className:"customScriptPageItemHead"},d(l.DelayInput,{className:"customScriptPageItemHeadName",name:"scriptName",value:e.scriptName,delayTimeout:1e3,onChange:function(e){return n(e)}}),d("button",{className:"removeScript",onClick:function(){return n=e.scriptName,void t.dispatchSiteIdentity(g({},t.siteIdentity,{customScripts:t.siteIdentity.customScripts.filter((function(e){return e.scriptName!==n}))}));var n}},"X")),d(l.DelayInput,{element:"textarea",className:"customScript",name:"scriptBody",value:e.scriptBody,delayTimeout:1e3,onChange:function(e){return n(e)}}))}));return d(u.a,null,d("input",{placeholder:"Google Analytics ID",type:"text",name:"googleAnalyticsID",value:t.siteIdentity.googleAnalyticsID,className:"googleAnalyticsInput",onChange:function(e){return function(e){t.dispatchSiteIdentity(g({},t.siteIdentity,{googleAnalyticsID:e.target.value}))}(e)}}),d("form",{className:"addCustomScriptForm",onSubmit:function(e){return function(e){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),f.includes(a.scriptName)?t.dispatchAlert({active:!0,alertMessage:"already there is script with this name",type:"error"}):t.dispatchSiteIdentity(g({},t.siteIdentity,{customScripts:[].concat(Object(s.a)(t.siteIdentity.customScripts),[a])}));case 2:case"end":return n.stop()}}))}(e)}},d("input",{className:"scriptName",name:"scriptName",placeholder:"Script Name",onChange:function(e){return y(e)}}),d("textarea",{name:"scriptBody",className:"addScriptTextarea",placeholder:"Script with out Script Tag",onChange:function(e){return y(e)}}),d("button",{type:"submit"},"Add")),d("div",{className:"customScripts"},v),d("button",{className:"saveBtn",onClick:function(){return t.dispatchState(g({},t.state,{loading:!0})),void t.functions.updateSetting("identity",t.siteIdentity).then((function(){t.dispatchState(g({},t.state,{loading:!1}))})).catch((function(e){console.log(e),t.dispatchState(g({},t.state,{loading:!1}))}))}},"Save"))}}},[["2j17",1,2,0,4,5,6,3]]]);