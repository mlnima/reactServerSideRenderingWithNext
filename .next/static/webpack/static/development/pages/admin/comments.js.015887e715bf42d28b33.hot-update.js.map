{"version":3,"file":"static/webpack/static\\development\\pages\\admin\\comments.js.015887e715bf42d28b33.hot-update.js","sources":["webpack:///./components/adminIncludes/commentsPageComponents/AdminRenderComments/AdminCommentItem/AdminCommentItem.js","webpack:///./pages/admin/comments/index.js"],"sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\r\nimport _ from 'lodash'\r\nimport './AdminCommentItem.scss'\r\nimport { updateComment,getComments } from '../../../../../_variables/ajaxPostsVariables'\r\n\r\nconst AdminCommentItem = props => {\r\n    const [ state, setState ] = useState({\r\n        hovered: false,\r\n        checked: false,\r\n        changed: false\r\n    });\r\n\r\n    const [ commentData, setCommentData ] = useState({})\r\n\r\n    useEffect(() => {\r\n        setCommentData(props.data)\r\n    }, [ props.data ]);\r\n\r\n\r\n    const onChangeHandler = e => {\r\n        setCommentData({\r\n            ...commentData,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const onSaveHandler = () => {\r\n        updateComment({\r\n            _id: props.data._id,\r\n            update: commentData\r\n        }).then(()=>{\r\n            getComments(props.commentData)\r\n        })\r\n    }\r\n    return (\r\n        <div key={ props.data._id } className='adminCommentsItem' onMouseOver={ () => setState({ ...state, hovered: true }) } onMouseOut={ () => setState({ ...state, hovered: false }) }>\r\n            <div className=\"adminCommentsItemHead\">\r\n                <input type='checkbox' checked={ state.checked } onChange={ () => state.checked ? setState({ ...state, checked: false }) : setState({ ...state, checked: true }) }/>\r\n                <p>{ props.data.author }</p>\r\n            </div>\r\n            <div className=\"adminCommentsItemBody\">\r\n                <p>{ props.data.postedDate }</p>\r\n                <p>{ props.data.body }</p>\r\n                <div className='commentControl'>\r\n                    <select name='status' value={ commentData.status  } onChange={ e => onChangeHandler(e) }>\r\n                        <option value='approved'>Approved</option>\r\n                        <option value='trash'>Trash</option>\r\n                        <option value='pending'>Pending</option>\r\n                    </select>\r\n                    <button onClick={ () =>onSaveHandler()  }>Save Changes\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\nexport default AdminCommentItem;\r\n","import React, { useEffect, useState, useContext, useRef } from 'react';\r\nimport AdminLayout from '../../../components/layouts/AdminLayout'\r\nimport { getComments } from '../../../_variables/ajaxPostsVariables'\r\nimport AdminRenderComments from '../../../components/adminIncludes/commentsPageComponents/AdminRenderComments/AdminRenderComments'\r\nimport AdminCommentsControl from '../../../components/adminIncludes/commentsPageComponents/AdminCommentsControl/AdminCommentsControl'\r\nimport PaginationComponent from '../../../components/includes/PaginationComponent/PaginationComponent'\r\nimport AppLayout from '../../../components/layouts/AppLayout'\r\n\r\nconst comments = props => {\r\n    const [ state, setState ] = useState({});\r\n    useEffect(() => {\r\n        console.log(props )\r\n    }, [props]);\r\n\r\n    return (\r\n        <AdminLayout>\r\n            <div>\r\n                <AdminCommentsControl\r\n                    queryData={ props.query || props.router.query }\r\n                    pathnameData={ props.pathname || props.router.pathname }\r\n                />\r\n                <PaginationComponent\r\n                    isActive={ true }\r\n                    currentPage={ props.getCommentsData.pageNo }\r\n                    totalCount={ props.totalComments }\r\n                    size={ props.getCommentsData.size }\r\n                    maxPage={ Math.ceil(parseInt(props.totalComments) / parseInt(props.getCommentsData.size)) }\r\n                    queryData={ props.query || props.router.query }\r\n                    pathnameData={ props.pathname || props.router.pathname }\r\n                />\r\n                <AdminRenderComments { ...props }/>\r\n            </div>\r\n        </AdminLayout>\r\n    );\r\n};\r\n\r\ncomments.getInitialProps = async ({ pathname, query, req, res, err }) => {\r\n    let comments;\r\n    const getCommentsData = {\r\n        size: parseInt(query.size) || 30,\r\n        pageNo: parseInt(query.page) || 1,\r\n        keyword: query.keyword || '',\r\n        sort: query.sort || 'latest',\r\n        status: query.status || 'all',\r\n    }\r\n    const commentsData = await getComments(getCommentsData)\r\n    comments = commentsData.data\r\n    return { query, pathname, comments: comments.comments, totalComments: comments.count, getCommentsData }\r\n}\r\nexport default comments;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAaA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AAAA;AACA;AADA;AASA;AACA;AAVA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;;;;A","sourceRoot":""}