{"version":3,"file":"static/webpack/static\\development\\pages\\admin\\settings\\widgets.js.3aad7a346cb43977fc82.hot-update.js","sources":["webpack:///./components/adminIncludes/widgetsModel/AddWidgetMenu/AddWidgetWithPositionMenu.js"],"sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\r\nimport './AddWidgetWithPositionMenu.scss'\r\nimport { widgetModels } from './models'\r\nimport { addNewWidget, getWidgets } from '../../../../_variables/ajaxVariables'\r\nimport { AppContext } from '../../../../context/AppContext'\r\n\r\nconst AddWidgetWithPositionMenu = props => {\r\n    const contextData = useContext(AppContext);\r\n    const [ state, setState ] = useState({\r\n        open:false\r\n    });\r\n    useEffect(() => {\r\n    }, []);\r\n\r\n    const onOpenHandler =()=>{\r\n        state.open?setState({\r\n            ...state,\r\n            open: false\r\n        }):setState({\r\n            ...state,\r\n            open: true\r\n        })\r\n    }\r\n\r\n    const onAddNewWidget = (position, type) => {\r\n        let dataToSave = widgetModels;\r\n        dataToSave.position = position\r\n        dataToSave.type = type\r\n        addNewWidget(widgetModels).then(res => {\r\n            getWidgets('home').then(res => {\r\n                contextData.dispatchWidgetsSettings({\r\n                    widgets: [ ...res.data.widgets ]\r\n                })\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n\r\n    if (state.open){\r\n        return (\r\n            <div className='AddWidgetWithPositionMenu'>\r\n                <button className='positionsOpener' onClick={()=>onOpenHandler()}>{props.type}</button>\r\n                <div className=\"AddWidgetWithPositionMenuPositions\">\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('home', props.type) }>Home Page</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('homePageSidebar', props.type) }>Home Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('postPageSidebar', props.type) }>Post Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('postsPageSidebar', props.type) }>Posts Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('tagsPageSidebar', props.type) }>Tags Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('categoriesPageSidebar', props.type) }>Categories Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('actorsPageSidebar', props.type) }>Actors Page Sidebar</button>\r\n                    <button className='AddWidgetWithPositionMenuPositionsBtn' onClick={ () => onAddNewWidget('footer', props.type) }>Footer</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }else {\r\n        return (\r\n            <div className='AddWidgetWithPositionMenu'>\r\n                <button className='positionsOpener' onClick={()=>onOpenHandler()}>{props.type}</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n};\r\nexport default AddWidgetWithPositionMenu;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAGA;AADA;AAFA;AAAA;AACA;AAIA;AACA;AAEA;AACA;AAEA;AAFA;AAKA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AAAA;;;;A","sourceRoot":""}